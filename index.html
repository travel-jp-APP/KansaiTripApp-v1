<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kansai Trip 2025-2026</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        body {
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #d6d3d1; /* stone-300 */
            color: #1c1917; /* stone-900 */
            overscroll-behavior: none;
        }

        /* Hide Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up { animation: fadeInUp 0.4s ease-out forwards; }
        .animate-fade-in { animation: fadeInUp 0.4s ease-out forwards; }
        
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
    </style>
</head>
<body>

    <div class="h-[100dvh] flex flex-col md:max-w-md md:mx-auto shadow-2xl overflow-hidden relative select-none bg-stone-300">
        
        <div class="fixed inset-0 z-0 pointer-events-none md:max-w-md md:mx-auto">
            <img src="https://tw.wamazing.com/media/wp-content/uploads/sites/4/2022/12/shigatravel_pixta_62991025_L-853x569.jpg.webp" alt="Shiga Scenery" class="w-full h-full object-cover opacity-90"/>
            <div class="absolute inset-0 bg-stone-300/85 backdrop-blur-[2px]"></div>
        </div>

        <div class="shrink-0 bg-white/80 backdrop-blur-md border-b border-stone-200/50 shadow-sm z-50">
            <div class="px-4 py-3 flex justify-between items-center">
                <div>
                    <h1 class="text-xl font-black tracking-tighter text-indigo-900">KANSAI TRIP</h1>
                    <p class="text-xs text-stone-400 font-medium tracking-widest">DEC 27 - JAN 04</p>
                </div>
                <div id="header-status" class="hidden flex items-center gap-2 bg-white/50 px-3 py-1.5 rounded-full border border-stone-100">
                    </div>
            </div>
            
            <div id="date-scroller-container" class="hidden">
                <div id="date-scroller" class="flex overflow-x-auto gap-3 px-4 pb-3 no-scrollbar snap-x">
                    </div>
            </div>
        </div>

        <div id="main-content" class="flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-4 no-scrollbar overscroll-contain relative z-10 pb-24">
            </div>

        <div class="absolute bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-stone-200/50 pb-safe z-50 overflow-x-auto no-scrollbar">
            <div class="flex justify-between items-center h-16 min-w-max px-2" id="bottom-nav">
                </div>
        </div>
    </div>

    <script>
        // ==========================================
        // --- Data (Copied from Source) ---
        // ==========================================
        const TRIP_DATA = {
            flights: [
                { type: "Departure", date: "2025/12/27 (ÂÖ≠)", code: "CX564", airline: "ÂúãÊ≥∞Ëà™Á©∫", route: "TPE Âè∞Âåó (11:15) ‚ûî KIX Â§ßÈò™ (14:55)", terminal: "TPE T1 / KIX T1", duration: "2h 40m", aircraft: "Airbus A330-300", class: "Á∂ìÊøü Q" },
                { type: "Return", date: "2026/01/04 (Êó•)", code: "CX565", airline: "ÂúãÊ≥∞Ëà™Á©∫", route: "KIX Â§ßÈò™ (16:15) ‚ûî TPE Âè∞Âåó (18:30)", terminal: "KIX T1 / TPE T1", duration: "3h 25m", aircraft: "Airbus A330-300", class: "Á∂ìÊøü S" }
            ],
            hotels: [
                { name: "ËçâÊ¥•Ê≥¢Â£´È†ìÂª£Â†¥È£ØÂ∫ó", engName: "Hotel Boston Plaza Kusatsu", dates: "12/27 - 1/1 (5Êôö)", location: "ÊªãË≥ÄÁ∏£ËçâÊ¥•Â∏Ç (JRËçâÊ¥•Á´ôÊóÅ)", features: ["‰∫§ÈÄö‰æøÂà©", "ÁæéÂºèÈ¢®Ê†º", "ÈÅ©ÂêàËá™Èßï"], note: "‰ΩúÁÇ∫ÊªãË≥ÄÁ∏£‰∫∫Â≠îËìãÂç°Êî∂ÈõÜÁöÑÂü∫Âú∞ÈùûÂ∏∏ÂêàÈÅ©„ÄÇ", image: "Boston.jpg" },
                { name: "REF ‰∫¨ÈÉΩÂÖ´Ê¢ùÂè£ by VESSEL HOTELS", engName: "REF Kyoto Hachijoguchi", dates: "1/1 - 1/4 (3Êôö)", location: "‰∫¨ÈÉΩÂ∏ÇÂçóÂçÄ (‰∫¨ÈÉΩÁ´ôÂÖ´Ê¢ùÂè£)", features: ["Â§ßÊµ¥Â†¥", "Áèæ‰ª£Êó•Âºè", "ÂÖçË≤ªËøéË≥ìÈ£≤Êñô"], note: "Èù†Ëøë‰∫¨ÈÉΩËªäÁ´ôÔºåÊñπ‰æøÂâçÂæÄÁ•ûÊà∂„ÄÅÂ•àËâØËàáÂõûÁ®ãÊ©üÂ†¥„ÄÇ", image: "Kyoto.jpg" }
            ],
            itinerary: [
                { id: "day1", date: "12/27", dayOfWeek: "ÂÖ≠", location: "Â§ßÈò™ ‚ûî ÊªãË≥Ä", weather: "sunny", temp: "8¬∞C", items: [
                    { type: "transport", time: "11:15", title: "Êê≠‰πò CX564 È£õÂæÄÂ§ßÈò™", note: "È†êË®à 14:55 ÊäµÈÅîÈóúË•øÊ©üÂ†¥ T1" },
                    { type: "visit", time: "15:30", title: "Ëá®Á©∫ÂüéËßÄÂÖâÊ°àÂÖßÊâÄ", tag: "Êî∂ÈõÜ", note: "üî• È†òÂèñ‰∫∫Â≠îËìãÂç°/Á¥ÄÂøµÂìÅ„ÄÇÁáüÊ•≠Ëá≥20:00„ÄÇ", mapUrl: "https://maps.app.goo.gl/AFLxB4tBLNV1DPb79" },
                    { type: "shop", time: "16:00", title: "Ëá®Á©∫Âüé Outlet", highlight: "ÂøÖË≤∑: ÈÅãÂãïÂìÅÁâå„ÄÅÊó•Á≥ªÊúçÈ£æ", note: "ÊôöÈ§êÂèØÂú®Ê≠§Ëß£Ê±∫„ÄÇÁáüÊ•≠Ëá≥20:00„ÄÇ" },
                    { type: "transport", time: "19:00", title: "ÂâçÂæÄËçâÊ¥•", note: "ÈóúË•øÊ©üÂ†¥ ‚Üí ‰∫¨ÈÉΩËªäÁ´ô ‚Üí ËçâÊ¥•ËªäÁ´ô" },
                    { type: "hotel", time: "21:30", title: "ÂÖ•‰ΩèÔºöËçâÊ¥•Ê≥¢Â£´È†ìÂª£Â†¥È£ØÂ∫ó", note: "‰ΩçÊñºËçâÊ¥•Á´ôË•øÂè£Ôºå‰ºëÊÅØÊ∫ñÂÇôÊòéÊó•Ëá™Èßï„ÄÇ" }
                ]},
                { id: "day2", date: "12/28", dayOfWeek: "Êó•", location: "ÊªãË≥ÄËá™Èßï", weather: "cloudy", temp: "6¬∞C", items: [
                    { type: "transport", time: "08:00", title: "ÁßüËªäÔºöToyota Rent a Car", note: "ËçâÊ¥•Á´ôË•øÂè£Â∫óÂèñËªä„ÄÇ", mapUrl: "https://maps.app.goo.gl/SDWrnzuSNuSV1V6V9" },
                    { type: "visit", time: "09:40", title: "Kusatsu Yume-Honjin", tag: "Êî∂ÈõÜ", note: "„Åè„Åï„Å§Â§¢Êú¨Èô£ÔºåÈ†òÂèñ‰∫∫Â≠îËìãÂç°„ÄÇ09:30ÈñãÈñÄ„ÄÇ", parkingUrl: "https://maps.app.goo.gl/u6ZijyhJJtStz16C8", mapUrl: "https://maps.app.goo.gl/gQ4efFwChjmxP4Gq5?g_st=ipc" },
                    { type: "visit", time: "10:20", title: "Ê†óÊù±Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ (2F)", tag: "Êî∂ÈõÜ", note: "‰ΩçÊñºÊâãÂéüÁ´ô„ÄÇÊ≥®ÊÑèÁáüÊ•≠ÊôÇÈñìËá≥12:00 (ÈÄöÂ∏∏ÂÅáÊó•ÂèØËÉΩÊúâËÆäÂãïÔºåË´ãÂÑ™ÂÖàÂâçÂæÄ)„ÄÇ" },
                    { type: "visit", time: "11:00", title: "ÂÆàÂ±±Â∏ÇÈßÖÂâçÁ∑èÂêàÊ°àÂÜÖÊâÄ", tag: "Êî∂ÈõÜ", note: "‰ΩçÊñºÂÆàÂ±±Á´ô„ÄÇ07:30Êó©Èñã„ÄÇ" },
                    { type: "visit", time: "12:00", title: "ÂÖ´Êó•Â∏ÇÈßÖÂâçË¶≥ÂÖâ‰∫§ÊµÅÊñΩË®≠", tag: "Êî∂ÈõÜ", note: "Êù±ËøëÊ±üÂ∏ÇÁöÑÂ§ßÈ¢®ÁÆèÂçöÁâ©È§®ÈôÑËøë„ÄÇ" },
                    { type: "visit", time: "13:00", title: "Êù±ËøëÊ±üÂ∏ÇÂΩπÊâÄ ÂÆàË°õÂÆ§", tag: "Êî∂ÈõÜ", note: "ÁáüÊ•≠ÊôÇÈñì (10:00‚Äì16:00)„ÄÇË´ãÁ¢∫Ë™çÂÆàË°õÂÆ§‰ΩçÁΩÆ„ÄÇ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Êù±ËøëÊ±üÂ∏ÇÂΩπÊâÄ" },
                    { type: "visit", time: "14:00", title: "ÂΩ•Ê†πÂ∏Ç‰∏ä‰∏ãÊ∞¥ÈÅì‰∏≠ÂøÉ", tag: "Êî∂ÈõÜ", note: "ÈúÄÂπ≥Êó•ÊàñÁâπÂÆöÂÅáÊó•Á™óÂè£ÔºåË´ãÁ¢∫Ë™çÂÆàË°õÂÆ§‰ΩçÁΩÆ„ÄÇ", mapUrl: "https://maps.app.goo.gl/mVScUD8s72aGcQTF9" },
                    { type: "visit", time: "14:30", title: "Hikonyan Museum", highlight: "ÂøÖÁúã: ÂΩ•Ê†πË≤ì(Hikonyan)Ë°®ÊºîÂ†¥Ê¨°", note: "üî• ÂΩ•Ê†πË≤ìÂçöÁâ©È§®„ÄÇ", mapUrl: "https://maps.app.goo.gl/kkbKSaDFaAikUWC89" },
                    { type: "visit", time: "15:30", title: "ÂΩ•Ê†πÂüé", highlight: "ÂúãÂØ∂‰∫îÂüé", note: "Ë≥ûÊ´ªÂêçÊâÄ(ÈõñÊòØÂÜ¨Â§©)„ÄÇ", mapUrl: "https://maps.app.goo.gl/oQ6LteKGpyHSDj7s5" },
                    { type: "shop", time: "17:30", title: "MITSUI OUTLET PARK ÊªãË≥ÄÈæçÁéã", highlight: "ÈóúË•øÊúÄÂ§ßÁ¥ö Outlet", note: "ÊôöÈ§êÊé®Ëñ¶ËøëÊ±üÁâõÊñôÁêÜ„ÄÇ" }
                ]},
                { id: "day3", date: "12/29", dayOfWeek: "‰∏Ä", location: "Êµ∑‰πã‰∫¨ÈÉΩ", weather: "rain", temp: "4¬∞C", items: [
                    { type: "visit", time: "09:00", title: "‰ºäÊ†πÁÅ£Ë≥ûÊôØËßÄÂÖâËàπ", highlight: "ÂøÖÊãç: ËàüÂ±ãÁæ§", note: "Ë≥ºË≤∑Ëù¶Ê¢ùÈ§µÊµ∑È∑ó„ÄÇÈÅäË¶ΩÊôÇÈñìÁ¥Ñ25ÂàÜÈêò„ÄÇ" },
                    { type: "visit", time: "10:30", title: "ÈÅì„ÅÆÈßÖ Êµ∑„ÅÆ‰∫¨ÈÉΩ ÂÆÆÊ¥•", tag: "Êî∂ÈõÜ", note: "ÂÆÆÊ¥•ËßÄÂÖâÊ°àÂÖßÊâÄÈ†òÂèñ‰∫∫Â≠îËìãÂç°„ÄÇ", mapUrl: "https://maps.app.goo.gl/8o12WE4J7ZNhWoeWA" },
                    { type: "food", time: "12:00", title: "ÂçàÈ§êÔºöÂ§©Ê©ãÁ´ãÂë®ÈÇä", highlight: "ÂøÖÂêÉ: Ëõ§Ë†£‰∏º (Asari Don)", note: "Êé®Ëñ¶ÔºöÂØåÁî∞Â±ã (Êµ∑ÈÆÆË∂ÖÂÄº)„ÄÅSuginoya„ÄÅÊµ∑ÈÆÆÂ∑•Êàø„ÄÇ" },
                    { type: "visit", time: "13:30", title: "Â§©Ê©ãÁ´ã (ÂÇòÊùæÂÖ¨Âúí)", highlight: "Êó•Êú¨‰∏âÊôØ", note: "Êê≠‰πòÁ∫úËªä/ÂêäÊ§Ö‰∏äÂ±±ÔºåÂæûËÉØ‰∏ãÁ™∫Áúã„ÄåÈ£õÈæçÂú®Â§©„Äç„ÄÇ" },
                    { type: "visit", time: "15:00", title: "ÂÖÉ‰ºäÂã¢ Á±†Á•ûÁ§æ & Êô∫ÊÅ©ÂØ∫", note: "ÂèÉÊãúÂè§ËÄÅÁ•ûÁ§æ„ÄÇ" },
                    { type: "visit", time: "16:00", title: "Â§©Ê©ãÁ´ã View Land", note: "ÂæûÂè¶‰∏ÄÂÅ¥ÁúãÈ£õÈæçËßÄ„ÄÇÊ≥®ÊÑèÁ∫úËªäÊú´Áè≠ÊôÇÈñì (ÂÜ¨Â≠£Á¥Ñ16:30-17:00)„ÄÇ" }
                ]},
                { id: "day4", date: "12/30", dayOfWeek: "‰∫å", location: "Èï∑Êø±/ÁêµÁê∂Êπñ", weather: "cloudy", temp: "5¬∞C", items: [
                    { type: "visit", time: "08:50", title: "Á´πÁîüÂ≥∂ËßÄÂÖâËàπ", note: "ÂæûÈï∑Êø±Ê∏ØÂá∫Áôº„ÄÇÁ´πÁîüÂ≥∂ÊòØËÉΩÈáèÊôØÈªû (Power Spot)„ÄÇ" },
                    { type: "visit", time: "10:00", title: "Á´πÁîüÂ≥∂ ÂØ∂Âö¥ÂØ∫", highlight: "ÊäïÊì≤Áì¶ÁâáÁ•àÁ¶è", note: "ÂèÉÊãúÂºÅË≤°Â§©„ÄÇ" },
                    { type: "visit", time: "12:00", title: "ÈªëÂ£ÅÂª£Â†¥ (ÈªëÂ£ÅSquare)", highlight: "ÂøÖÂêÉ: 96Cafe ÈªëÂíñÂì©", note: "ÁéªÁíÉÂ∑•ËóùÂìÅÂ∫óÊûóÁ´ãÔºåÂÖÖÊªøÂ§ßÊ≠£Êµ™Êº´Ê∞õÂúç„ÄÇ" },
                    { type: "visit", time: "14:30", title: "Â§öË≥ÄÂ§ßÁ§æ", highlight: "Èï∑Â£ΩÁ•àÈ°ò", note: "ÊªãË≥ÄÁ∏£Á¨¨‰∏ÄÂ§ßÁ§æÔºåÈñÄÂè£ÊúâËëóÂêç„ÄåÁ≥∏ÂàáÈ§Ö„Äç„ÄÇ" },
                    { type: "visit", time: "16:00", title: "ËøëÊ±üÁ•ûÂÆÆ", highlight: "Ëä±ÁâåÊÉÖÁ∑£ËÅñÂú∞", note: "‰ª•Á´∂ÊäÄÊ≠åÁâåËÅûÂêçÔºåÂª∫ÁØâÊú±Á¥ÖÁæéÈ∫ó„ÄÇ" }
                ]},
                { id: "day5", date: "12/31", dayOfWeek: "‰∏â", location: "ËøëÊ±üÂÖ´Âπ°", weather: "snow", temp: "3¬∞C", items: [
                    { type: "transport", time: "08:00", title: "Êó•ÁâüÁ¶ÆÂÖ´Âπ°ÂÆÆÂâç ÁÑ°ÊñôÈßêËªäÂ†¥ÔºàÈáåÈÅìÔºâ", note: "Êñ∞Âπ¥ÂèÉÊãúÊàñÈÅäË¶ΩÂÖ´Âπ°Â†ÄÂâçÂÅúËªä„ÄÇ", mapUrl: "https://maps.app.goo.gl/Sk3cyrf86bb4MXxx7?g_st=ipc" },
                    { type: "visit", time: "09:00", title: "ÂÖ´Âπ°Â±±Á∫úËªä & ÂüéË∑°", note: "Áú∫ÊúõÁêµÁê∂ÊπñËàáË•ø‰πãÊπñÁæéÊôØ„ÄÇ", mapUrl: "https://www.google.com/maps/search/?api=1&query=ÂÖ´Âπ°Â±±Á∫úËªä" },
                    { type: "visit", time: "10:30", title: "ÂÖ´Âπ°Â†ÄÈÅäËàπ", highlight: "ÊôÇ‰ª£ÂäáÂèñÊôØÂú∞", note: "Âú®ÂÖÖÊªøÈ¢®ÊÉÖÁöÑÊ∞¥ÈÑâ‰πòËàπÊº´ÈÅä„ÄÇ" },
                    { type: "visit", time: "12:30", title: "La Collina ËøëÊ±üÂÖ´Âπ°", highlight: "ÂøÖË≤∑: Club Harie Âπ¥Ëº™ËõãÁ≥ï", note: "Âª∫ÁØâÂ§ßÂ∏´Ëó§Ê£ÆÁÖß‰ø°Ë®≠Ë®àÁöÑÁ´•Ë©±ËçâÂ±ã„ÄÇÂøÖÂêÉÁèæÁÉ§Âπ¥Ëº™ËõãÁ≥ï„ÄÅÈäÖÈëºÁáí„ÄÇ" },
                    { type: "food", time: "17:00", title: "Ë∑®Âπ¥ÊôöÈ§ê", note: "Âª∫Ë≠∞ÊèêÂâçÈ†êË®ÇÈ§êÂª≥ÔºåÊàñÂú®Ë∂ÖÂ∏ÇË≥ºË≤∑Ë±êÁõõÊôöÈ§êÂõûÈ£ØÂ∫ó‰∫´Áî®„ÄÇ", mapUrl: null },
                    { type: "transport", time: "20:00", title: "ÈÇÑËªäÔºöToyota Rent a Car", note: "ÂãôÂøÖÊñº 20:00 ÂâçÂÆåÊàêÈÇÑËªäÊâãÁ∫åÔºåÁµêÊùüËá™ÈßïË°åÁ®ã„ÄÇ", mapUrl: "https://maps.app.goo.gl/49vueN16a8RcXojK7" }
                ]},
                { id: "day6", date: "1/1", dayOfWeek: "Âõõ", location: "Á•ûÊà∂/ÂàùË©£", weather: "sunny", temp: "7¬∞C", items: [
                    { type: "transport", time: "08:00", title: "ÁßªÂãïËá≥‰∫¨ÈÉΩ‰∏¶ÂâçÂæÄÁ•ûÊà∂", note: "ÂÖàÂéª REF ‰∫¨ÈÉΩÈ£ØÂ∫óÂØÑÊîæË°åÊùéÔºåÂÜçÊê≠Èò™ÊÄ•ÂâçÂæÄÁ•ûÊà∂‰∏âÂÆÆ„ÄÇ", mapUrl: "https://maps.app.goo.gl/wvQV78Z1MTSnDR3J6" },
                    { type: "visit", time: "10:30", title: "ÁîüÁî∞Á•ûÁ§æ", highlight: "ÊàÄÊÑõÁµêÁ∑£", note: "Êñ∞Âπ¥ÂèÉÊãú (ÂàùË©£) ‰∫∫ÊΩÆÁúæÂ§öÔºåË´ãÈ†êÁïôÊôÇÈñì„ÄÇ", mapUrl: "https://maps.app.goo.gl/Qp6xcnbq8jurtKjr7" },
                    { type: "visit", time: "12:00", title: "ÂåóÈáéÂ§©ÊªøÁ•ûÁ§æ", note: "‰ΩçÊñºÁï∞‰∫∫È§®ÂçÄÁöÑÈ´òÈªû„ÄÇ" },
                    { type: "visit", time: "13:00", title: "ÁæéÂà©Â†ÖÂÖ¨Âúí", note: "Á•ûÊà∂Ê∏ØÂú∞Ê®ô„ÄÇ", mapUrl: "https://maps.app.goo.gl/UYp8chLFqd5stcB77" },
                    { type: "visit", time: "14:00", title: "Á•ûÊà∂Ê©üÂ†¥ Á∂úÂêàÊ°àÂÖßÊâÄ", tag: "Êî∂ÈõÜ", note: "È†òÂèñ‰∫∫Â≠îËìãÂç°„ÄÇÊê≠‰πò Port Liner ÂâçÂæÄ„ÄÇ", mapUrl: "https://maps.app.goo.gl/NNi4QQFVeQrsUWkb9" },
                    { type: "visit", time: "16:30", title: "Â§ßÈ≥•Â§ßÁ§æ", tag: "Êî∂ÈõÜ", note: "Â§ßÈò™Â†∫Â∏Ç„ÄÇÈ†ÜË∑ØÂèÉÊãú„ÄÇ", mapUrl: "https://maps.app.goo.gl/kyxyYjHMVcdGzBZg6?g_st=ipc" },
                    { type: "shop", time: "18:30", title: "ÂØ∂ÂèØÂ§¢‰∏≠ÂøÉ Â§ßÈò™Â∫ó DXÂ§ß‰∏∏ÂøÉÈΩãÊ©ã9F", highlight: "ÂøÖË≤∑: ÈôêÂÆöÂïÜÂìÅ", note: "ÁáüÊ•≠ÊôÇÈñì10:00‚Äì20:00„ÄÇÊôöÈ§êÂèØÂú®Ê≠§ÈôÑËøëËß£Ê±∫„ÄÇ", mapUrl: "https://maps.app.goo.gl/6XNEnaevDXWHBe1q9" },
                    { type: "shop", time: "20:00", title: "ÂØ∂ÂèØÂ§¢‰∏≠ÂøÉ Â§ßÈò™Â§ß‰∏∏Ê¢ÖÁî∞13F", highlight: "ÂøÖË≤∑: ÈôêÂÆöÂïÜÂìÅ", note: "‚ö†Ô∏è ÁáüÊ•≠ÊôÇÈñì10:00‚Äì20:00„ÄÇË´ãÊ≥®ÊÑèÔºåÂøÉÈΩãÊ©ãËàáÊ¢ÖÁî∞ÂÖ©Â∫óÁöÜÊñº20:00ÈóúÈñÄÔºåÂª∫Ë≠∞ÈÅ∏ÊìáÂÖ∂‰∏ÄÊàñÊèêÂâçË™øÊï¥Ë°åÁ®ã„ÄÇ", mapUrl: "https://www.google.com/maps/search/?api=1&query=ÂØ∂ÂèØÂ§¢‰∏≠ÂøÉ+Ê¢ÖÁî∞" }
                ]},
                { id: "day7", date: "1/2", dayOfWeek: "‰∫î", location: "Â•àËâØ/ÂÆáÊ≤ª", weather: "sunny", temp: "6¬∞C", items: [
                    { type: "visit", time: "08:30", title: "Êò•Êó•Â§ßÁ§æ", highlight: "ÈπøËàáÁáàÁ±†", note: "ÂèÉÈÅì‰∏äÁöÑÈπøÁæ§ÂæàÂèØÊÑõ‰ΩÜË´ãÂ∞èÂøÉ‰ªôË≤ù„ÄÇ" },
                    { type: "food", time: "11:00", title: "Ê∞¥Ë∞∑Ëå∂Â±ã", highlight: "ËåÖËçâÂ±ãËå∂Â±ã", note: "ÊãçÁÖßË∂ÖÁæéÔºåÊé®Ëñ¶ÁÉèÈæçÈ∫µÊàñËï®È§Ö„ÄÇ" },
                    { type: "visit", time: "12:30", title: "Êù±Â§ßÂØ∫ & ‰∫åÊúàÂ†Ç", highlight: "‰∏ñÁïåÊúÄÂ§ßÊú®ÈÄ†Âª∫ÁØâ", note: "ÂøÖÁúãÂ§ß‰Ωõ„ÄÇ‰∫åÊúàÂ†ÇÂèØ‰øØÁû∞Â•àËâØÂ∏ÇÊôØ„ÄÇ", mapUrl: "https://maps.app.goo.gl/uV4YfjDbdyKA6kJ36?g_st=ipc" },
                    { type: "visit", time: "13:30", title: "Âæ°ÈúäÁ•ûÁ§æ", note: "Â•àËâØÂ∏ÇÂæ°ÈúäÁ•ûÁ§æ„ÄÇ", mapUrl: "https://maps.app.goo.gl/H4zGYhXNHFs1SHbG7" },
                    { type: "visit", time: "14:30", title: "Â•àËâØÁî∫ÂçóË¶≥ÂÖâÊ°àÂÜÖÊâÄ", tag: "Êî∂ÈõÜ", note: "È†òÂèñÂ•àËâØ‰∫∫Â≠îËìãÂç°„ÄÇ" },
                    { type: "visit", time: "15:30", title: "ÂÆáÊ≤ªË¶≥ÂÖâ„Çª„É≥„Çø„Éº", tag: "Êî∂ÈõÜ", note: "È†òÂèñÂÆáÊ≤ª‰∫∫Â≠îËìãÂç°„ÄÇÈ†Ü‰æøÈÄõË°®ÂèÉÈÅì„ÄÇ" },
                    { type: "shop", time: "16:30", title: "Âêâ‰ºäÂç°Âìá (Chikawa) ‰ºèË¶ãÂ∫ó", highlight: "‰∫¨ÈÉΩÈôêÂÆö", note: "Mogumogu Êú¨Ëàñ„ÄÇÂøÖË≤∑‰ºèË¶ãÁ®ªËç∑ÈôêÂÆöÂë®ÈÇä„ÄÇ" }
                ]},
                { id: "day8", date: "1/3", dayOfWeek: "ÂÖ≠", location: "‰∫¨ÈÉΩÂ∑°Á¶Æ", weather: "cloudy", temp: "5¬∞C", items: [
                    { type: "visit", time: "08:30", title: "Â§©ÈæçÂØ∫ (ÂµêÂ±±)", highlight: "ÊõπÊ∫êÊ±†Â∫≠Âúí", note: "‰∏ñÁïåÈÅ∫Áî¢„ÄÇÊó©Êô®‰∫∫ËºÉÂ∞ëÔºåÁ©∫Ê∞£Ê∏ÖÊñ∞„ÄÇ" },
                    { type: "visit", time: "09:30", title: "ÂµêÂ±±Á´πÊûó„ÅÆÂ∞èÂæÑ", highlight: "ÂøÖÊãçÁæéÊôØ", note: "ÊúÄÂÖ∑‰ª£Ë°®ÊÄßÁöÑÂµêÂ±±ÊôØËßÄ„ÄÇ", mapUrl: "https://maps.app.goo.gl/tDdr4tS4kvyaiepM8" },
                    { type: "visit", time: "10:30", title: "Â∞ãÊâæÈ≥≥Áéã‰∫∫Â≠îËìã", tag: "Êî∂ÈõÜ", note: "ÂØ∂ÂèØÂ§¢‰∫∫Â≠îËìã„ÄéÈ≥≥Áéã„Äè‰ΩçÊñº‰∫¨ÈÉΩÔºàÈÄöÂ∏∏Âú®ÂÖ¨ÂúíÊàñÂú∞Ê®ôÂâçÔºâ„ÄÇ", mapUrl: "https://maps.app.goo.gl/rX5RkRCimURC2yaNA" },
                    { type: "visit", time: "13:00", title: "‰ªÅÂíåÂØ∫", note: "‰ª•Âæ°ÂÆ§Ê´ªËÅûÂêçÔºàÈõñÈùûËä±Â≠£ÔºâÔºåÁöáÂÆ§Ê∑µÊ∫êÊ∑±Âéö„ÄÇ", mapUrl: "https://maps.app.goo.gl/5YWzcadDHfKG9SeR7?g_st=ipc" },
                    { type: "visit", time: "14:00", title: "Ë≥ÄËåÇÂæ°Á•ñÁ•ûÁ§æ(‰∏ãÈ¥®Á•ûÁ§æ)", highlight: "‰∏ñÁïåÈÅ∫Áî¢", note: "‰∫¨ÈÉΩÊúÄÂè§ËÄÅÁöÑÁ•ûÁ§æ‰πã‰∏ÄÔºåÁ≥æ‰πãÊ£Æ„ÄÇ", mapUrl: "https://maps.app.goo.gl/B5SbkueV5CbZ3s3B6" },
                    { type: "visit", time: "15:00", title: "Âπ≥ÂÆâÁ•ûÂÆÆ", note: "Â∑®Â§ßÁöÑÁ¥ÖËâ≤È≥•Â±Ö„ÄÇËÖπÂú∞Âª£Â§ß„ÄÇ" },
                    { type: "shop", time: "16:30", title: "Pokemon Center Kyoto", highlight: "ËóùÂ¶ìÁöÆÂç°‰∏ò", note: "‰ΩçÊñº SUINA ÂÆ§Áî∫ 2F„ÄÇÂøÖË≤∑‰∫¨ÈÉΩÈôêÂÆöÁé©ÂÅ∂„ÄÇ" },
                    { type: "shop", time: "18:00", title: "Âêâ‰ºäÂç°Âìá Land ‰∫¨ÈÉΩÂõõÊ¢ùÊ≤≥ÂéüÁî∫", note: "Kiddyland ÂÖß„ÄÇÁπºÁ∫åË£úË≤®„ÄÇ", mapUrl: "https://www.google.com/maps/search/?api=1&query=Kiddyland+‰∫¨ÈÉΩ" }
                ]},
                { id: "day9", date: "1/4", dayOfWeek: "Êó•", location: "Â§ßÈò™ ‚ûî Âè∞Âåó", weather: "sunny", temp: "8¬∞C", items: [
                    { type: "transport", time: "08:12", title: "ÂâçÂæÄÂ§ßÈò™", note: "‰∫¨ÈÉΩËªäÁ´ô ‚Üí Â§ßÈò™ÔºàÂØÑÊîæË°åÊùéÊàñÁõ¥Êé•ÂâçÂæÄÊôØÈªûÔºâ„ÄÇ" },
                    { type: "visit", time: "09:30", title: "ATC Green Eco Plaza", note: "‰ΩçÊñºÂçóÊ∏Ø„ÄÇÂÖºÂÖ∑Áí∞‰øùÊïôËÇ≤ËàáËßÄÂÖâ„ÄÇ" },
                    { type: "visit", time: "11:00", title: "Â†∫Êù±Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ", tag: "Êî∂ÈõÜ", note: "È†òÂèñÂ†∫Â∏Ç‰∫∫Â≠îËìãÂç°„ÄÇ" },
                    { type: "visit", time: "12:00", title: "Â≤∏ÂíåÁî∞Á´ôÂâçËßÄÂÖâÊ°àÂÖßÊâÄ", tag: "Êî∂ÈõÜ", note: "‰ª•Â≤∏ÂíåÁî∞Á•≠ÔºàÊãâËªäÁ•≠ÔºâËÅûÂêç„ÄÇ", mapUrl: "https://maps.app.goo.gl/hbFc4FkHzPWHKGkDA" },
                    { type: "visit", time: "13:30", title: "„Åæ„Å°„ÅÆÈßÖ„Åã„ÅÑ„Å•„Åã", tag: "Êî∂ÈõÜ", note: "Ë≤ùÂ°öÂ∏Ç‰∫∫Â≠îËìãÂç°„ÄÇÁáüÊ•≠ÊôÇÈñì10:00‚Äì19:00„ÄÇ", mapUrl: "https://www.google.com/maps/search/?api=1&query=„Åæ„Å°„ÅÆÈßÖ„Åã„ÅÑ„Å•„Åã" },
                    { type: "visit", time: "15:00", title: "Ê≥â‰ΩêÈáéÂ∏ÇË¶≥ÂÖâÊÉÖÂ†±„Çª„É≥„Çø„Éº", tag: "Êî∂ÈõÜ", note: "ÈóúË•øÊ©üÂ†¥Â∞çÂ≤∏ÔºåÊúÄÂæå‰∏ÄÁ´ôÊî∂ÈõÜÔºÅ" },
                    { type: "transport", time: "16:15", title: "Êê≠‰πò CX565 ËøîÂè∞", note: "ÂÜçË¶ãÈóúË•øÔºÅÈ†êË®à 18:30 ÊäµÈÅîÂè∞Âåó„ÄÇ" }
                ]}
            ],
            manholeStock: [
                { name: "Ëá®Á©∫ÂüéÊ°àÂÖßÊâÄ", region: "Â§ßÈò™", hours: "09:00‚Äì20:00", url: "https://www.city.izumisano.lg.jp/kakuka/jogesuidokyoku/jogesui/menu/1511934914176.html" },
                { name: "Â§ßÊ¥•ËªäÁ´ôËßÄÂÖâÊ°àÂÜÖÊâÄ", region: "ÊªãË≥Ä", hours: "09:00‚Äì18:00", url: "https://www.city.otsu.lg.jp/kigyo/about/koho/68041.html", highlight: true },
                { name: "„Åè„Åï„Å§Â§¢Êú¨Èô£", region: "ÊªãË≥Ä", hours: "09:00‚Äì17:00", url: "https://www.city.kusatsu.shiga.jp/kurashi/suidogesuido/gesuido/manholecard.html" },
                { name: "ËçâÊ¥•ÂÆøË°óÈÅì‰∫§ÊµÅÈ§®", region: "ÊªãË≥Ä", hours: "09:00‚Äì17:00", url: "https://www.city.kusatsu.shiga.jp/kurashi/suidogesuido/gesuido/manholecard.html" },
                { name: "Ê†óÊù±Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ ‰∫åÊ®ì", region: "ÊªãË≥Ä", hours: "08:30‚Äì12:00", url: "https://www.city.ritto.lg.jp/soshiki/jogeuido/jogesuido/oshirase/7224.html" },
                { name: "Ê†óÊù±Â∏ÇÁ´ãÂõ≥Êõ∏È§®", region: "ÊªãË≥Ä", hours: "10:00‚Äì17:00", url: "https://www.city.ritto.lg.jp/soshiki/jogeuido/jogesuido/oshirase/7224.html", highlight: true },
                { name: "ÂÆàÂ±±Â∏ÇÈßÖÂâçÁ∑èÂêàÊ°àÂÜÖÊâÄ", region: "ÊªãË≥Ä", hours: "07:30‚Äì19:30", url: "https://www.city.moriyama.lg.jp/kurashitetsuzuki/jougesuido/1001701/1008797.html" },
                { name: "ÂÖ´Êó•Â∏ÇÈßÖÂâçË¶≥ÂÖâ‰∫§ÊµÅÊñΩË®≠", region: "ÊªãË≥Ä", hours: "10:00‚Äì17:00", url: "https://www.city.higashiomi.shiga.jp/kurashi_tetsuzuki/jougesuidou/1008975/1009690.html" },
                { name: "Êù±ËøëÊ±üÂ∏ÇÂΩπÊâÄ ÂÆàË°õÂÆ§", region: "ÊªãË≥Ä", hours: "10:00‚Äì16:00", url: "https://www.city.higashiomi.shiga.jp/kurashi_tetsuzuki/jougesuidou/1008975/1008976.html", highlight: false },
                { name: "Ë±äÈÉ∑Áî∫Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ", region: "ÊªãË≥Ä", hours: "09:00‚Äì17:00", url: "https://www.town.toyosato.shiga.jp/0000001749.html", highlight: true },
                { name: "ÂΩ•Ê†πÂ∏Ç‰∏ä‰∏ãÊ∞¥ÈÅìÊñôÈáë„ÅäÂÆ¢Êßò„Çµ„Éº„Éì„Çπ„Çª„É≥„Çø„Éº", region: "ÊªãË≥Ä", hours: "09:00‚Äì17:00", url: "https://www.city.hikone.lg.jp/kakuka/jogesuido/2/2219.html" },
                { name: "„Å≤„Åì„Å≠È£üË≥ìÈ§®ÂõõÁï™Áî∫„ÉÄ„Ç§„Éã„É≥„Ç∞", region: "ÊªãË≥Ä", hours: "10:00‚Äì17:00", url: "https://www.city.hikone.lg.jp/kakuka/jogesuido/2/2219.html" },
                { name: "„ÄåÈÅì„ÅÆÈßÖ Êµ∑„ÅÆ‰∫¨ÈÉΩ ÂÆÆÊ¥•„ÄçË¶≥ÂÖâÊ°àÂÜÖÊâÄ", region: "‰∫¨ÈÉΩ", hours: "09:00‚Äì18:00", url: "https://www.pref.kyoto.jp/gesuido/manholemiyazu.html" },
                { name: "Á•ûÊà∏Á©∫Ê∏Ø 1 ÈöéÁ∑èÂêàÊ°àÂÜÖÊâÄ", region: "ÂÖµÂ∫´", hours: "07:00‚Äì23:00", url: "https://www.city.kobe.lg.jp/a78445/kurashi/sumai/sewage/pr/manhole_card.html" },
                { name: "Ëä¶Â±ãÂ∏ÇÂΩπÊâÄÂÆàË°õÂÆ§", region: "ÂÖµÂ∫´", hours: "09:00‚Äì17:00", url: "https://www.city.ashiya.lg.jp/gesuidou/mhc.html", highlight: true },
                { name: "Â§ßÈò™Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ(JR ËªäÁ´ôÂÖß)", region: "Â§ßÈò™", hours: "07:00‚Äì21:00", url: "https://www.city.osaka.lg.jp/kensetsu/page/0000431121.html" },
                { name: "Â•àËâØÁî∫ÂçóË¶≥ÂÖâÊ°àÂÜÖÊâÄ", region: "Â•àËâØ", hours: "09:00‚Äì17:00", url: "https://h2o.nara.nara.jp/info_924.html" },
                { name: "ÂÆáÊ≤ªÂ∏ÇË¶≥ÂÖâ„Çª„É≥„Çø„Éº", region: "‰∫¨ÈÉΩ", hours: "09:00‚Äì17:00", url: "https://www.city.uji.kyoto.jp/soshiki/12/6038.html" },
                { name: "Â§ßÈò™Â∏Ç‰∏ãÊ∞¥ÈÅìÁßëÂ≠∏È§®(ÈúÄË≥ºÁ•®ÂÖ•Â†¥ÂæåÂ°´ÂØ´ÂïèÂà∏)", region: "Â§ßÈò™", hours: "09:30‚Äì17:00", url: "https://www.city.osaka.lg.jp/kensetsu/page/0000431121.html", highlight: true },
                { name: "„Åä„Åä„Åï„Åã ATC „Ç∞„É™„Éº„É≥„Ç®„Ç≥„Éó„É©„Ç∂", region: "Â§ßÈò™", hours: "10:00‚Äì17:00", url: "https://www.city.osaka.lg.jp/kensetsu/page/0000431121.html" },
                { name: "Â†∫Êù±Ë¶≥ÂÖâÊ°àÂÜÖÊâÄ", region: "Â§ßÈò™", hours: "09:00‚Äì19:00", url: "https://water.city.sakai.lg.jp/about/kouhou/1522311572373.html" },
                { name: "Â≤∏ÂíåÁî∞ÈßÖÂâçË¶≥ÂÖâÊ°àÂÜÖÊâÄ", region: "Â§ßÈò™", hours: "09:00‚Äì17:00", url: "https://www.city.kishiwada.lg.jp/page/56-manholecard.html" },
                { name: "„Åæ„Å°„ÅÆÈßÖ„Åã„ÅÑ„Å•„Åã", region: "Â§ßÈò™", hours: "10:00‚Äì19:00", url: "https://www.city.kaizuka.lg.jp/kakuka/jogesuido/gesuisuisin/topics/manholucard.html" },
                { name: "Ê≥â‰ΩêÈáéÂ∏ÇË¶≥ÂÖâÊÉÖÂ†±„Çª„É≥„Çø„Éº", region: "Â§ßÈò™", hours: "10:00‚Äì16:00", url: "https://www.city.izumisano.lg.jp/kakuka/jogesuidokyoku/jogesui/menu/1511934914176.html" },
            ],
            mapLinks: [
                { title: "ÈóúË•øÂë®ÈÅäË∑ØÁ∑öÂúñ", url: "https://www.surutto.com/kansai_rw/assets/pdf/areamap2024_tw.pdf" },
                { title: "Osaka MetroË∑ØÁ∑öÂúñ", url: "https://subway.osakametro.co.jp/img/osakametro_rosenzu_20250404.pdf" },
                { title: "Èò™ÊÄ•ÈõªÈêµ", url: "https://www.hankyu.co.jp/station/pdf/zh-tw/map_station_zh-tw.pdf" },
                { title: "Èò™Á•ûÈõªÈêµ", url: "https://www.hanshin.co.jp/global/tw/pdf/map.pdf" },
                { title: "„Éû„É≥„Éõ„Éº„É´„Ç´„Éº„ÉâÂÆòÁ∂≤", url: "https://www.gk-p.jp/mhcard/" },
                { title: "„Éû„É≥„Éõ„Éº„É´„Ç´„Éº„ÉâÂú∞Âúñ", url: "https://ekikaramanhole.whitebeach.org/ext/manholecard/map/?t=map" },
                { title: "Á¥ÄÂøµÂπ£Âú∞Âúñ", url: "https://www.stampmedal.com/map.htm" },
                { title: "Ê∞∏Êó∫Â§¢Ê®ÇÂüéKyoto 4F (ËΩâËõãÂ±ã)", url: "https://maps.app.goo.gl/8NoQd7g6H5cn7UiG7" }
            ],
            notes: [
                {
                    date: "12/27ÔºàÂÖ≠Ôºâ",
                    links: [{ title: "Ëá®Á©∫Âüé Outlet ÈõªÂ≠êÂú∞Âúñ", url: "https://platinumaps.jp/d/premiumoutlets-rinku?floor=1F", note: "NikeÊ≤íÊúâÂÖçÁ®Ö" }],
                    dining: [{ area: "ÊªãË≥Ä - ËçâÊ¥•", spots: [{ name: "Êù±‰∫¨Ê≤πÁµÑÁ∑èÊú¨Â∫ó ÊªãË≥ÄÁµÑ", cuisine: "Ê≤πËïéÈ∫•", hours: "11:00‚Äì02:00", mapUrl: "https://maps.app.goo.gl/Zjj8pK1nmaVU6Ug19" }, { name: "È∫∫Â±ãEDITIONËçâÊ¥•Â∫ó", cuisine: "ËøëÊ±üÁâõÈÜ¨Ê≤πÊãâÈ∫µ", hours: "17:00‚Äì02:45" }, { name: "„Ç´„Éû„Éâ„ÅÆ„Çø„Ç≥", cuisine: "Á´†È≠öÁáí/Â±ÖÈÖíÂ±ã", hours: "12:00‚Äì23:00 (Â±ÖÈÖíÂ±ã)", mapUrl: "https://maps.app.goo.gl/f8viAbvjP5p6tLtQ6" }, { name: "„Åè„Åï„Å§Âπ≥ÂíåÂ†ÇHeiwado", cuisine: "Ë∂ÖÂ∏Ç/ÂïÜÂ†¥", hours: "09:00‚Äì21:30", mapUrl: "https://maps.app.goo.gl/g81dTrt1ruJAxkT37" }, { name: "ËøëÊ±üÁâõÁÑºËÇâ MAWARI ÂçóËçâÊ¥•Â∫ó", cuisine: "ËøëÊ±üÁâõÁáíËÇâ", hours: "17:00‚Äì23:00", mapUrl: "https://maps.app.goo.gl/LZFTbWNz9Dpy9TWJ8" }] }]
                },
                {
                    date: "12/28ÔºàÊó•Ôºâ",
                    links: [{ title: "MITSUI OUTLET PARK ÊªãË≥ÄÈæçÁéãÂú∞Âúñ", url: "https://mitsui-shopping-park.com/mop/file/filer/shiga/floor/00008_fo.pdf", note: "PDF‰∏ãËºâ" }],
                    dining: [{ area: "ÊªãË≥Ä - ÂΩ•Ê†π/ÈæçÁéã", spots: [{ name: "ËøëÊ±ü„Å°„ÇÉ„Çì„ÅΩ„Çì‰∫≠ Êú¨Â∫ó", cuisine: "ÂΩ•Ê†πÂêçÁâ© ‰ªÄÈå¶È∫µ", hours: "11:00‚Äì22:00", mapUrl: "https://maps.app.goo.gl/4pevVmcwwPP1eT8u5" }, { name: "Â§¢‰∫¨Ê©ãÂüéÂ†°Ë∑Ø", cuisine: "ËßÄÂÖâËÄÅË°ó", hours: "Ë´ãÁ¢∫Ë™çÁáüÊ•≠ÊôÇÈñì", mapUrl: "https://maps.app.goo.gl/k3Q4eHs5ZbrtYcKo7" }, { name: "„Åü„Å≠„ÇÑ ÂΩ¶Ê†πÁæéÊø†„ÅÆËàé", cuisine: "ÁîúÈªû/Âπ¥Ëº™ËõãÁ≥ï", hours: "09:00‚Äì18:00", mapUrl: "https://maps.app.goo.gl/hPLMGketJvLks6p87" }, { name: "ËøëÊ±üËÇâ „Åõ„Çì„Å™„Çä‰∫≠‰ºΩÁæÖ", cuisine: "ËøëÊ±üÁâõÊñôÁêÜ", hours: "11:30‚Äì15:00, 17:00‚Äì21:30", mapUrl: "https://maps.app.goo.gl/eFJ9CDUF5pUwmXrS8" }, { name: "„Çâ„Éº„ÇÅ„ÇìÊú¨Ê∞ó", cuisine: "ÊãâÈ∫µ", hours: "11:00‚Äì15:00, 17:30‚Äì21:00", mapUrl: "" }] }]
                },
                {
                    date: "12/29Ôºà‰∏ÄÔºâ",
                    links: [{ title: "‰ºäÊ†πÊπæ„ÇÅ„Åê„ÇäÈÅäË¶ßËàπ", url: "https://www.inewan.com/inewan_cruise/", note: "1,200ÂÜÜ" }, { title: "ÂÇòÊùæË¶≥ÂÖâÂà∏", url: "https://www.tankai.jp/tourist_tickets/#inekasamatsu", note: "2,000ÂÜÜÂà∏" }, { title: "Â§©Ê©ãÁ´ã„Éì„É•„Éº„É©„É≥„Éâ (Á∫úËªä)", url: "https://www.viewland.jp/tw/eigyou/", note: "1,000ÂÜÜ" }],
                    dining: [{ area: "‰∫¨ÈÉΩ - ÂÇòÊùæ/ÊàêÁõ∏ÂØ∫", spots: [{ name: "Suginoya", cuisine: "ÈªëÁ´πËº™ÁÉèÂÜ¨", hours: "11:30‚Äì16:00", mapUrl: "https://maps.app.goo.gl/tEp45aDV6KEpciG37" }] }, { area: "‰∫¨ÈÉΩ - Â§©Ê©ãÁ´ã", spots: [{ name: "Êµ∑ÈÆÆÂ∑•Êàø Ê©ãÁ´ãÁâ©Áî¢ ÊùæËëâËüπÁõ¥Ë≥£", cuisine: "ÊùæËëâËüπ/Êµ∑ÈÆÆ‰∏º", hours: "11:00‚Äì17:00", mapUrl: "https://maps.app.goo.gl/1n6htfvFC6ZJLCwS9" }, { name: "ÊñáÁè†Ëéä Âãò‰∏ÉËå∂Â±ã", cuisine: "Êô∫ÊÅ©ÂØ∫ÂêçÁâ© Êô∫ÊÖß‰πãÈ§Ö", hours: "09:00‚Äì17:00", mapUrl: "https://maps.app.goo.gl/XqvKrtaCaJkCyqVd9" }, { name: "ÂíñÂï°È§® ÈæçÁáà‰πãÊùæ", cuisine: "ÊãâÈ∫µÂ∫ó/ÂíñÂï°", hours: "11:30‚Äì19:00", mapUrl: "https://maps.app.goo.gl/ppaASzBRfQDksssP6" }] }, { area: "‰∫¨ÈÉΩ - ÂÆÆÊ¥•ÂçàÈ§ê", spots: [{ name: "ÁÉèÂÜ¨Â∞èÂêÉÂ§ßÈñÄ", cuisine: "ÂíñÂì©ÁÉèÂÜ¨", hours: "11:30‚Äì14:30„ÄÅ17:30‚Äì20:30", mapUrl: "https://maps.app.goo.gl/XuUhLeaJ4kGXr5Ag9" }, { name: "„Åì„Çì„Å¥„Çâ„ÅÜ„Å©„Çì", cuisine: "ÊâãÊâìÁÉèÂÜ¨", hours: "11:00‚Äì15:00", mapUrl: "https://www.google.com/maps/search/?api=1&query=„Åì„Çì„Å¥„Çâ„ÅÜ„Å©„Çì" }, { name: "ÂØåÁî∞Â±ã", cuisine: "Êµ∑ÈÆÆÂÆöÈ£ü", hours: "11:00‚Äì21:30", mapUrl: "https://maps.app.goo.gl/B52SCgQa1vkrkkPs8" }, { name: "Seafood Kawasaki", cuisine: "Êµ∑ÈÆÆ‰∏º", hours: "11:00‚Äì13:30", mapUrl: "https://maps.app.goo.gl/85PgVVpZyfBDBdtZ7" }, { name: "Â±±Êµ∑Â±ã", cuisine: "Êµ∑ÈÆÆÊñôÁêÜ", hours: "11:00‚Äì22:00", mapUrl: "https://maps.app.goo.gl/3n5uxsmPifezUnbCA" }] }, { area: "‰∫¨ÈÉΩ - ÂÆÆÊ¥•ÊôöÈ§ê", spots: [{ name: "„ÅäÈ£ü‰∫ãÂá¶ Ââ≤ÁÉπ„Åü„Çì„Åî", cuisine: "Êá∑Áü≥/Êµ∑ÈÆÆ", hours: "17:30‚Äì22:30" }] }]
                },
                {
                    date: "12/30 (‰∫å)",
                    dining: [{ area: "ÊªãË≥Ä - Èï∑Êø±", spots: [{ name: "ÁøºÊûúÊ®ì", cuisine: "Èï∑Êø±ÁâπÁî¢ ÁÉ§ÈØñÈ≠öÁ¥†È∫µ", hours: "10:30‚Äì15:00", mapUrl: "https://maps.app.goo.gl/M2b1zmTJekofTqZ8A" }, { name: "Kurokabe Building #18 96CAFE", cuisine: "ÈªëËâ≤ÈúúÊ∑áÊ∑ã/ÂíñÂì©", hours: "11:00‚Äì17:30", mapUrl: "https://maps.app.goo.gl/MiHw3RWh5FEupBd89" }, { name: "ËäãÂπ≥Èï∑ÊµúÂ∫ó", cuisine: "ËäãÈ†≠ÁîúÈªû", hours: "10:00‚Äì17:00", mapUrl: "https://maps.app.goo.gl/p9WPAwh6gVX1eSdK7" }, { name: "ÁÇ≠ÁÅ´ÁÑº„ÅÜ„Å™„ÅéÊñôÁêÜ „Åñ„ÅÑ„ÇÇ„ÇìÊπñÂêü", cuisine: "È∞ªÈ≠öÈ£Ø", hours: "11:00‚Äì14:00, 17:00‚Äì21:00", mapUrl: "https://maps.app.goo.gl/2b38CdtSP6qpMFhT8" }, { name: "„Çâ„ÅÜ„ÇÅ„ÇìÂ±ãÂè∞Â±ã", cuisine: "ÊãâÈ∫µ", hours: "Ë´ãÁ¢∫Ë™çÁáüÊ•≠ÊôÇÈñì", mapUrl: "https://maps.app.goo.gl/N33eYkm1SyxYhyoHA" }] }]
                },
                {
                    date: "12/31 (‰∏â)",
                    dining: [{ area: "ÊªãË≥Ä - ËøëÊ±üÂÖ´Âπ°", spots: [{ name: "ËøëÊ±üÁâõÊñôÁêÜ ÂçÉÊàê‰∫≠", cuisine: "ËøëÊ±üÁâõ", hours: "10:00‚Äì17:00", mapUrl: "https://maps.app.goo.gl/ZXs7qm42FVCM3xGVA" }, { name: "ËøëÊ±üÁâõÂâµ‰Ωú„ÉÄ„Ç§„Éã„É≥„Ç∞ ‰πÖ„ÅºÂ§öÂ±ã", cuisine: "ËøëÊ±üÁâõÂâµ‰ΩúÊñôÁêÜ", hours: "11:00‚Äì17:00", mapUrl: "https://maps.app.goo.gl/dTZvwTyUpaUXWVJP8" }, { name: "‰∏∏Á´πËøëÊ±üÁâõ Ë•øÂ∑ù", cuisine: "ËøëÊ±üÁâõ", hours: "11:00‚Äì15:00, 16:00‚Äì19:00", mapUrl: "https://maps.app.goo.gl/2Wwx1MrNJmwFwvfw6" }, { name: "„ÅäÈ£ü‰∫ãÂá¶Âíå„Åß„Çì", cuisine: "ÂíåÈ£üÊñôÁêÜ", hours: "11:00‚Äì15:00", mapUrl: "https://maps.app.goo.gl/3TVVaLspqCMVWAjd8" }, { name: "Êó•ÁâüÁ¶Æ‰πÉËàç", cuisine: "ÁîúÈªû/Âñ´Ëå∂", hours: "09:30‚Äì17:00", mapUrl: "https://maps.app.goo.gl/BAbfwkGY47DuMW4t8" }, { name: "Club Harie", cuisine: "Âπ¥Ëº™ËõãÁ≥ï", hours: "09:00‚Äì18:00", mapUrl: "https://maps.app.goo.gl/swB43z42qUsmaqEHA" }] }]
                },
                {
                    date: "1/1 (Âõõ)",
                    dining: [{ area: "Â§ßÈò™ / Á•ûÊà∂", spots: [{ name: "„Çâ„ÅÅÈ∫∫ È¥®„Å®Ëë± Ê¢ÖÁî∞Â∫ó", cuisine: "È¥®ËÇâÊãâÈ∫µ", hours: "11:00‚Äì23:00" }, { name: "Á•ûÊà∂‰∏âÂÆÆ", cuisine: "Èö®Ê©üË¶ìÈ£ü/Êñ∞Âπ¥ÁáüÊ•≠Â∫óÂÆ∂", hours: "", mapUrl: "https://maps.app.goo.gl/m2XA2WzBxvyH8tjA6" }] }],
                    routes: [{ area: "ÂøÉÈΩãÊ©ã", spots: [{ name: "ÂØ∂ÂèØÂ§¢‰∏≠ÂøÉ Â§ßÈò™Â∫ó DXÂ§ß‰∏∏ÂøÉÈΩãÊ©ã9F", hours: "10:00‚Äì20:00", mapUrl: "https://maps.app.goo.gl/6XNEnaevDXWHBe1q9" }, { name: "CHIIKAWA LAND Shinsaibashi PARCO Store 6F", hours: "10:00‚Äì20:00" }] }, { area: "Ê¢ÖÁî∞", spots: [{ name: "ÂØ∂ÂèØÂ§¢‰∏≠ÂøÉ Â§ßÈò™Â§ß‰∏∏Ê¢ÖÁî∞13F", hours: "10:00‚Äì20:00" }, { name: "„Å°„ÅÑ„Åã„Çè„Çâ„Çì„Å© Â§ßÈò™Ê¢ÖÁî∞Â∫ó", hours: "10:00‚Äì20:00", note: "Êö´ÂÆöÈò™ÊÄ•‰∏âÁï™Ë°óÂçóÈ§®B1 37Ëôü" }, { name: "Ê¢ÖÁî∞ËóçÂ§©Â§ßÊ®ì", hours: "09:30‚Äì22:00" }, { name: "HEP FIVE Êë©Â§©Ëº™7F", hours: "11:00‚Äì22:45" }] }]
                },
                {
                    date: "1/2 (‰∫î)",
                    dining: [{ area: "Â•àËâØ", spots: [{ name: "‰∏≠Ë∞∑Â†Ç", cuisine: "ËëóÂêçÁöÑÁèæÊêóÈ∫ªÁ≥¨", hours: "10:00‚Äì18:00", mapUrl: "https://maps.app.goo.gl/ZobNUwiuMZgPRVQf7" }] }, { area: "‰∫¨ÈÉΩ - ÂÆáÊ≤ª", spots: [{ name: "‰∏≠ÊùëËó§Âêâ (Nakamura Tokichi) Êú¨Â∫ó", cuisine: "ÊäπËå∂ÂêçÂ∫ó", hours: "10:00‚Äì17:30", mapUrl: "https://maps.app.goo.gl/2nLpsWUjFZcmLyNf7" }, { name: "‰ºäËó§‰πÖÂè≥Ë°õÈñÄ ÂÆáÊ≤ªÊú¨Â∫ó„ÉªËå∂Êàø", cuisine: "ÊäπËå∂/ËïéÈ∫•È∫µ", hours: "10:00‚Äì18:00", mapUrl: "https://maps.app.goo.gl/X52bnzuQK4Ftn7oD8" }] }]
                },
                {
                    date: "1/3 (ÂÖ≠)",
                    dining: [{ area: "‰∫¨ÈÉΩ - ÂµêÂ±±", spots: [{ name: "ÂµØÂ≥®Ë±ÜËÖê Á®ª Êú¨Â∫ó", cuisine: "Ë±ÜËÖêÊñôÁêÜ/Ë±ÜÁöÆ", hours: "11:00‚Äì18:30", mapUrl: "https://maps.app.goo.gl/BBCfdetuL8rNMevf7" }, { name: "ËïéÈ∫•È∫µ ÂµêÂ±±„Çà„Åó„ÇÄ„Çâ", cuisine: "ÊôØËßÄËïéÈ∫•È∫µ", hours: "11:00‚Äì16:00", mapUrl: "https://maps.app.goo.gl/p47zjGPbRoUSY4Cp8" }, { name: "ÈØõÂå† HANANA", cuisine: "ÈØõÈ≠öËå∂Ê≥°È£Ø", hours: "11:00‚Äì16:30", mapUrl: "https://maps.app.goo.gl/5wxGFRvQ2TwzryT48" }] }]
                }
            ],
            drivingGuide: {
                tips: [
                    { title: "Âè≥ÈßïÂ∑¶Ë°å", content: "Êó•Êú¨ËªäËºõÁÇ∫Âè≥ÈßïÔºåË´ãÂãôÂøÖÈù†Â∑¶Ë°åÈßõ„ÄÇÂè£Ë®£Ôºö„ÄåÂ∑¶ËΩâÂ∞èÂΩé„ÄÅÂè≥ËΩâÂ§ßÂΩé„Äç„ÄÇËΩâÂΩéÊôÇË´ãÊâìÊñπÂêëÁáàÔºàÈõ®Âà∑ÈÄöÂ∏∏Âú®Â∑¶ÈÇäÔºåÊñπÂêëÁáàÂú®Âè≥ÈÇäÔºåÂ∞èÂøÉÊâìÈåØÔºâ„ÄÇ" },
                    { title: "Ë°å‰∫∫ÂÑ™ÂÖà", content: "ÊñëÈ¶¨Á∑öËã•ÊúâË°å‰∫∫Ê∫ñÂÇôÈÅéÈ¶¨Ë∑ØÔºåËªäËºõ„ÄåÁµïÂ∞çÂøÖÈ†à„ÄçÂÆåÂÖ®ÂÅúÊ≠¢ËÆìË°å„ÄÇÈÄôÊòØÊó•Êú¨ÈùûÂ∏∏Âö¥Ê†ºÂü∑Ë°åÁöÑ‰∫§ÈÄöË¶èÂâá„ÄÇ" },
                    { title: "Ê≠¢„Åæ„Çå (Stop)", content: "ÁúãÂà∞ÂÄí‰∏âËßíÂΩ¢ÁöÑ„ÄåÊ≠¢„Åæ„Çå„ÄçÊ®ôË™åÔºåÂú∞Èù¢ÈÄöÂ∏∏‰πüÊúâÁôΩËâ≤ÊñáÂ≠óÔºåËªäËº™ÂøÖÈ†à„ÄåÂÆåÂÖ®ÂÅúÊ≠¢„ÄçÈÅãËΩâÔºåÂ∑¶Âè≥Á¢∫Ë™çÁÑ°ËªäÂæåÂÜçÈñã„ÄÇÊ≤íÂÆåÂÖ®ÁÖûÂÅúËã•Ë¢´Ë≠¶ÂØüÁúãÂà∞ÊúÉË¢´ÁΩ∞„ÄÇ" },
                    { title: "Âè≥ËΩâÁ¶ÆËÆì", content: "Âè≥ËΩâÔºàË∑®Ë∂äÂ∞çÂêëËªäÈÅìÔºâÊôÇÔºåÂøÖÈ†àÁ¶ÆËÆìÁõ¥Ë°åËªäËàáÂ∑¶ËΩâËªä„ÄÇËã•ÁÑ°Âè≥ËΩâÁáàËôüÔºåÈúÄÁ≠âÂæÖÁ©∫Ê™îÊàñËÆäÁáàÊôÇÂÑòÈÄüÈÄöÈÅé„ÄÇ" },
                    { title: "Âπ≥‰∫§ÈÅì", content: "ÈÄöÈÅéÂπ≥‰∫§ÈÅìÂâçÔºåÂøÖÈ†à„ÄåÂÆåÂÖ®ÂÅúËªä„ÄçÔºåÈñãÁ™óËÅΩÊòØÂê¶ÊúâÁÅ´ËªäËÅ≤ÔºåÁ¢∫Ë™çÁÑ°Ë™§ÂæåÊâçÈÄöÈÅé„ÄÇ" }
                ],
                signs: [
                    { label: "‰∏ÄÊôÇÂÅúÊ≠¢ (Stop)", desc: "ÂãôÂøÖÂÆåÂÖ®ÁÖûÂÅúÔºåÁ¢∫Ë™çÂÆâÂÖ®ÂæåÂÜçÈñã„ÄÇ", type: "stop" },
                    { label: "ÂæêË°å (Slow)", desc: "Ê∏õÈÄüÊÖ¢Ë°åÔºàÈÄöÂ∏∏Êåá10km/h‰ª•‰∏ãÔºâÔºåÈö®ÊôÇÂèØÂÅúËªäÁöÑÁãÄÊÖã„ÄÇ", type: "slow" },
                    { label: "ËªäËºõÈÄ≤ÂÖ•Á¶ÅÊ≠¢", desc: "ÂñÆË°åÈÅìÂá∫Âè£Â∏∏Ë¶ãÔºåÁ¶ÅÊ≠¢ÈßõÂÖ•„ÄÇ", type: "no-entry" },
                    { label: "ÊúÄÈ´òÈÄüÂ∫¶", desc: "ÈôêÂà∂ÊúÄÈ´òÊôÇÈÄüÔºàÂúñÁÇ∫50km/hÔºâ„ÄÇ", type: "speed", limit: 50 },
                    { label: "ÂñÆË°åÈÅì", desc: "ÂÉÖËÉΩ‰æùÁÆ≠È†≠ÊñπÂêëË°åÈßõ„ÄÇ", type: "one-way" },
                    { label: "ÈßêËªäÁ¶ÅÊ≠¢", desc: "Á¶ÅÊ≠¢ÂÅúËªäÔºà‰ΩÜÂèØÁü≠Êö´Ëá®ÊôÇÂÅúËªä‰∏ä‰∏ãÂÆ¢Ôºâ„ÄÇ", type: "no-parking" },
                    { label: "Á¶ÅÊ≠¢Ëø¥ËΩâ", desc: "Ê≠§Ë∑ØÊÆµÁ¶ÅÊ≠¢ U-Turn (Ëø¥ËΩâ)„ÄÇ", type: "no-uturn" },
                    { label: "Ê©´Êñ∑Ê≠•ÈÅì", desc: "ÂâçÊñπÊúâË°å‰∫∫Á©øË∂äÈÅìÔºåË´ãÊ∏õÈÄü‰∏¶Á¶ÆËÆìË°å‰∫∫„ÄÇ", type: "pedestrian" },
                    { label: "ÈÅìË∑ØÊñΩÂ∑•", desc: "ÂâçÊñπÊñΩÂ∑•‰∏≠ÔºåË´ã‰æùÁÖßÁèæÂ†¥‰∫∫Âì°ÊåáÁ§∫ÊàñÂæêË°åÈÄöÈÅé„ÄÇ", type: "construction" },
                    { label: "Âπ≥‰∫§ÈÅì", desc: "ÂâçÊñπÊúâÈêµË∑ØÂπ≥‰∫§ÈÅìÔºåÂøÖÈ†àÂÅúËªäÊü•Áúã„ÄÇ", type: "railroad" },
                ],
                highway: [
                    { title: "ETC ËªäÈÅì", content: "ÁßüËªäÂª∫Ë≠∞ÁßüÁî® ETC Âç°„ÄÇÈÄ≤ÂÖ•Êî∂Ë≤ªÁ´ôË´ãËµ∞Á¥´Ëâ≤„ÄåETC„ÄçÂ∞àÁî®ÈÅìÊàñ„ÄåETC/‰∏ÄËà¨„ÄçÂÖ±Áî®ÈÅìÔºåÊ∏õÈÄüËá≥ 20km/h ‰ª•‰∏ãÈÄöÈÅéÔºåÊüµÊ¨ÑÂçáËµ∑ÂæåÂÜçÂä†ÈÄü„ÄÇ" },
                    { title: "ËøΩË∂äËªäÈÅì (Ë∂ÖËªäÈÅì)", content: "È´òÈÄüÂÖ¨Ë∑ØÊúÄÂè≥ÂÅ¥ËªäÈÅìÁÇ∫„ÄåËøΩË∂äËªäÈÅì„Äç„ÄÇË∂ÖËªäÂæåÊáâÂÑòÈÄüÂàáÂõûÂ∑¶ÂÅ¥Ë°åÈßõËªäÈÅìÔºåÂàáÂãøÈï∑ÊôÇÈñì‰ΩîÁî®Âè≥ÂÅ¥ËªäÈÅìÔºåÂê¶ÂâáÈÅïË¶è„ÄÇ" },
                    { title: "ÂêàÊµÅÁ¶ÆËÆì", content: "Âæû‰∫§ÊµÅÈÅìÂåØÂÖ•‰∏ªÁ∑öÊôÇÔºåË´ãÂä†ÈÄüËá≥Ëàá‰∏ªÁ∑öËªäÊµÅÁõ∏Áï∂ÁöÑÈÄüÂ∫¶ÂÜçÂåØÂÖ•Ôºå‰∏¶Êé°Âèñ„ÄåÊãâÈçäÂºèÂåØÂÖ•„ÄçÔºà‰∏ÄÂè∞Êèí‰∏ÄÂè∞Ôºâ„ÄÇ" },
                    { title: "ËªäË∑ùÁ¢∫Ë™ç", content: "È´òÈÄüÂÖ¨Ë∑ØÂú∞Èù¢Â∏∏ÊúâÁ∂†Á∑öÊàñÊ®ôÁ§∫„ÄåËªäÈñìË∑ùÈõ¢Á¢∫Ë™ç„ÄçÔºåË´ã‰æùÁï∂ÂâçÈÄüÈôê‰øùÊåÅË∂≥Â§†ÂÆâÂÖ®Ë∑ùÈõ¢ÔºàÂ¶Ç100km/h‰øùÊåÅ100Á±≥Ôºâ„ÄÇ" },
                    { title: "Â°ûËªäÈñÉÈªÉÁáà", content: "Ëã•ÂâçÊñπÈÅáÂà∞Â°ûËªäÈúÄÊÄ•Ê∏õÈÄüÔºåË´ãÈñãÂïü„ÄåÈõôÈªÉÁáàÔºàÊïÖÈöúÁáàÔºâ„ÄçË≠¶Á§∫ÂæåÊñπ‰æÜËªäÔºåÈÅøÂÖçËøΩÊíûÔºåÈÄôÊòØÊó•Êú¨ÈßïÈßõÁöÑÈªòÂ•ë„ÄÇ" },
                    { title: "SA Ëàá PA", content: "SA (Service Area) ÈÄöÂ∏∏ÊúâÂä†Ê≤πÁ´ô„ÄÅÈ§êÂª≥„ÄÅÂªÅÊâÄÔºõPA (Parking Area) ÂâáËºÉÂ∞èÔºåÂÉÖÊúâÂªÅÊâÄËàáË≤©Ë≥£Ê©ü„ÄÇÈï∑ÈÄîÈßïÈßõÂª∫Ë≠∞ÊØè2Â∞èÊôÇ‰ºëÊÅØ‰∏ÄÊ¨°„ÄÇ" }
                ]
            }
        };

        const getGoogleMapUrl = (name) => `https://www.google.com/maps/search/?api=1&query=$${encodeURIComponent(name)}`;

        // ==========================================
        // --- State Management ---
        // ==========================================
        let state = {
            activeTab: 'itinerary',
            selectedDayId: 'day1'
        };

        // ==========================================
        // --- Component Renderers ---
        // ==========================================
        
        // Helper for icons (Using Lucide)
        function getIcon(name, classes = "", size = 24) {
            return `<i data-lucide="${name}" class="${classes}" width="${size}" height="${size}"></i>`;
        }

        function renderTrafficSign(type, limit) {
            switch(type) {
                case 'stop': return `<svg width="40" height="40" viewBox="0 0 40 40"><polygon points="20,38 2,5 38,5" fill="#ef4444" stroke="none"/><text x="50%" y="35%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="9" font-weight="bold">Ê≠¢„Åæ„Çå</text><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" fill="white" font-size="6" font-weight="bold">STOP</text></svg>`;
                case 'slow': return `<svg width="40" height="40" viewBox="0 0 40 40"><polygon points="20,38 2,5 38,5" fill="white" stroke="#ef4444" stroke-width="3"/><text x="50%" y="35%" dominant-baseline="middle" text-anchor="middle" fill="#1c1917" font-size="10" font-weight="bold">ÂæêË°å</text><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" fill="#1c1917" font-size="5" font-weight="bold">SLOW</text></svg>`;
                case 'no-entry': return `<svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="#ef4444" /><rect x="8" y="17" width="24" height="6" fill="white" /></svg>`;
                case 'speed': return `<svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="white" stroke="#ef4444" stroke-width="3" /><text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" fill="#3b82f6" font-size="16" font-weight="bold">${limit}</text></svg>`;
                case 'one-way': return `<svg width="40" height="40" viewBox="0 0 40 40"><rect x="2" y="8" width="36" height="24" rx="2" fill="#3b82f6" /><path d="M10 20 L24 20 M24 20 L18 14 M24 20 L18 26" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
                case 'no-parking': return `<svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="#3b82f6" stroke="#ef4444" stroke-width="3" /><line x1="8" y1="8" x2="32" y2="32" stroke="#ef4444" stroke-width="3" /></svg>`;
                case 'no-uturn': return `<svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="white" stroke="#ef4444" stroke-width="3" /><path d="M24 16 C24 12 16 12 16 16 L16 26" stroke="#3b82f6" stroke-width="3" fill="none" /><polygon points="16,28 12,22 20,22" fill="#3b82f6" /><line x1="8" y1="32" x2="32" y2="8" stroke="#ef4444" stroke-width="3" /></svg>`;
                case 'pedestrian': return `<svg width="40" height="40" viewBox="0 0 40 40"><rect x="4" y="4" width="32" height="32" rx="2" fill="#3b82f6" /><path d="M14 28 L20 12 L26 28 M20 12 L20 10 M14 20 L26 20" stroke="white" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"/><path d="M20 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z" fill="white"/></svg>`;
                case 'construction': return `<svg width="40" height="40" viewBox="0 0 40 40"><circle cx="20" cy="20" r="18" fill="white" stroke="#eab308" stroke-width="3" /><path d="M14 28 L20 12 L26 28" stroke="black" stroke-width="2" fill="none"/><line x1="28" y1="28" x2="12" y2="28" stroke="black" stroke-width="2" /><path d="M12 28 q2 -4 4 -4 t4 4" fill="black" /><path d="M26 28 q-2 -4 -4 -4 t-4 4" fill="black" /></svg>`;
                case 'railroad': return `<svg width="40" height="40" viewBox="0 0 40 40"><rect x="20" y="2" width="20" height="20" fill="#eab308" transform="rotate(45 20 20)" rx="2" /><path d="M16 26 L24 26 M18 26 L18 14 L22 14 L22 26" stroke="black" stroke-width="2" /><circle cx="16" cy="26" r="2" fill="black" /><circle cx="24" cy="26" r="2" fill="black" /></svg>`;
                default: return '';
            }
        }

        function renderWeatherIcon(type) {
            switch (type) {
                case 'sunny': return getIcon('sun', "w-5 h-5 text-orange-500");
                case 'cloudy': return getIcon('cloud', "w-5 h-5 text-gray-500");
                case 'rain': return getIcon('cloud-rain', "w-5 h-5 text-blue-500");
                case 'snow': return getIcon('snowflake', "w-5 h-5 text-cyan-400");
                default: return getIcon('sun', "w-5 h-5 text-orange-500");
            }
        }

        function renderItineraryItem(item) {
            let iconName = 'map-pin';
            let iconColor = "text-stone-400";
            let borderColor = "border-stone-200";

            if (item.type === 'food') { iconName = 'utensils'; iconColor = "text-red-400"; borderColor="border-l-red-400"; }
            else if (item.type === 'shop') { iconName = 'shopping-bag'; iconColor = "text-yellow-500"; borderColor="border-l-yellow-500"; }
            else if (item.type === 'visit') { iconName = 'camera'; iconColor = "text-emerald-500"; borderColor="border-l-emerald-500"; }
            else if (item.type === 'hotel') { iconName = 'bed-double'; iconColor = "text-purple-400"; borderColor="border-l-purple-400"; }
            else if (item.type === 'transport') {
                const isFlight = item.title.includes("CX564") || item.title.includes("CX565");
                const isCarRelated = item.title.includes("ÁßüËªä") || item.title.includes("ÈÇÑËªä") || item.title.includes("ÈßêËªäÂ†¥");
                
                if (isFlight) { iconName = 'plane'; iconColor = "text-red-500"; borderColor = "border-l-red-500"; } 
                else if (isCarRelated) { iconName = 'car'; iconColor = "text-lime-600"; borderColor = "border-l-lime-600"; } 
                else { iconName = 'train-front'; iconColor = "text-indigo-400"; borderColor = "border-l-indigo-400"; }
            }

            const isCollection = item.tag === "Êî∂ÈõÜ";
            if (isCollection) { iconName = 'star'; iconColor = "text-amber-500"; borderColor = "border-l-amber-500"; }

            const titlesWithoutNavigation = ["Êê≠‰πò CX564 È£õÂæÄÂ§ßÈò™", "Êê≠‰πò CX565 ËøîÂè∞", "ÂâçÂæÄËçâÊ¥•", "ÂâçÂæÄÂ§ßÈò™"];
            const showNavigation = !titlesWithoutNavigation.includes(item.title) && item.mapUrl !== null;
            const destinationUrl = item.mapUrl || getGoogleMapUrl(item.title);

            return `
            <div class="flex gap-4 p-4 bg-white/95 backdrop-blur-sm rounded-lg border-l-4 shadow-sm mb-3 ${borderColor} active:bg-stone-50 transition-colors">
                <div class="flex flex-col items-center min-w-[50px]">
                    <span class="text-sm font-bold text-stone-600 font-mono">${item.time}</span>
                    <div class="mt-2 p-1.5 rounded-full bg-stone-50 ${iconColor}">
                        ${getIcon(iconName, "", 18)}
                    </div>
                    ${isCollection ? '<span class="text-[9px] text-amber-600 font-bold mt-1">GET!</span>' : ''}
                </div>
                
                <div class="flex-1">
                    <div class="flex items-start justify-between">
                        <h3 class="font-bold text-stone-800 text-lg leading-tight w-[calc(100%-70px)] sm:w-[calc(100%-110px)] select-text">${item.title}</h3>
                        <div class="flex gap-2 shrink-0"> 
                            ${item.parkingUrl ? `
                                <a href="${item.parkingUrl}" target="_blank" rel="noopener noreferrer" class="p-2 bg-sky-50 text-sky-600 rounded-full active:scale-95 hover:bg-sky-100 transition-colors shrink-0">
                                    ${getIcon('square-parking', "", 18)}
                                </a>` : ''}
                            ${showNavigation ? `
                                <a href="${destinationUrl}" target="_blank" rel="noopener noreferrer" class="p-2 bg-blue-50 text-blue-600 rounded-full active:scale-95 hover:bg-blue-100 transition-colors shrink-0">
                                    ${getIcon('navigation', "", 18)}
                                </a>` : '<div class="w-8 h-8 shrink-0"></div>'}
                        </div>
                    </div>
                    ${item.tag ? `
                        <div class="mt-1">
                            <span class="text-[10px] px-2 py-0.5 rounded-full border font-medium mr-2 ${isCollection ? "border-amber-400 text-amber-600 bg-amber-50" : "border-stone-300 text-stone-500"}">
                                ${item.tag}
                            </span>
                        </div>` : ''}
                    ${item.highlight ? `
                        <div class="mt-2 inline-block px-3 py-1 bg-red-50 text-red-600 text-xs rounded-md font-bold select-text">
                            ‚òÖ ${item.highlight}
                        </div>` : ''}
                    ${item.note ? `
                        <p class="mt-2 text-sm text-stone-500 leading-relaxed bg-stone-50 p-2 rounded border border-stone-100 select-text">
                            ${item.note}
                        </p>` : ''}
                </div>
            </div>`;
        }

        function renderItineraryView(dayId) {
            const currentDayData = TRIP_DATA.itinerary.find(d => d.id === dayId);
            if (!currentDayData) return '';

            // Update Header Status
            const headerStatus = document.getElementById('header-status');
            headerStatus.innerHTML = `
                ${renderWeatherIcon(currentDayData.weather)}
                <span class="text-sm font-bold text-stone-600">${currentDayData.temp}</span>
                <span class="text-xs text-stone-400 pl-1 border-l border-stone-300 ml-1">${currentDayData.location}</span>
            `;
            headerStatus.classList.remove('hidden');

            const itemsHtml = currentDayData.items.map(item => renderItineraryItem(item)).join('');
            
            return `
                <div class="animate-fade-in-up pb-20">
                    <div class="flex items-center justify-between mb-4 px-1">
                        <h2 class="text-lg font-bold text-stone-700">
                            Day ${dayId.replace('day', '')} 
                            <span class="ml-2 text-sm font-normal text-stone-500">${currentDayData.location}</span>
                        </h2>
                    </div>
                    ${itemsHtml}
                </div>
            `;
        }

        function renderFlightsView() {
            const flightsHtml = TRIP_DATA.flights.map(flight => `
                <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-5 mb-4">
                    <div class="flex items-center justify-between mb-4 border-b border-stone-100 pb-3">
                        <span class="text-xs font-bold px-2 py-1 rounded ${flight.type === 'Departure' ? 'bg-indigo-100 text-indigo-700' : 'bg-orange-100 text-orange-700'}">
                            ${flight.type === 'Departure' ? 'ÂéªÁ®ã' : 'ÂõûÁ®ã'}
                        </span>
                        <span class="font-mono font-bold text-stone-500">${flight.date}</span>
                    </div>
                    <div class="flex justify-between items-center mb-2">
                        <div class="text-3xl font-black text-stone-800">${flight.code}</div>
                        <div class="text-stone-300 rotate-45">${getIcon('plane', "", 24)}</div>
                    </div>
                    <div class="text-sm font-medium text-stone-600 mb-4">${flight.airline} ‚Ä¢ ${flight.class}</div>
                    <div class="bg-stone-50 p-4 rounded-lg text-center border border-stone-100">
                        <div class="text-lg font-bold text-stone-800 mb-1">${flight.route}</div>
                        <div class="text-xs text-stone-500">${flight.terminal} ‚Ä¢ ${flight.duration} ‚Ä¢ ${flight.aircraft}</div>
                    </div>
                </div>
            `).join('');

            const hotelsHtml = TRIP_DATA.hotels.map(hotel => `
                <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-0 mb-4">
                    <div class="h-60 bg-stone-200 relative overflow-hidden">
                        ${hotel.image ? `
                            <img src="${hotel.image}" alt="${hotel.name}" class="w-full h-full object-cover">` 
                        : `
                            <div class="w-full h-full bg-gradient-to-r from-stone-200 to-stone-300 flex items-center justify-center">
                                ${getIcon('bed-double', "text-white w-10 h-10 opacity-50")}
                            </div>`
                        }
                    </div>
                    <div class="p-5">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-lg font-bold text-stone-800 leading-tight w-3/4">${hotel.name}</h3>
                            <span class="text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded font-medium whitespace-nowrap">${hotel.dates}</span>
                        </div>
                        <p class="text-xs text-stone-400 mb-4 font-mono">${hotel.engName}</p>
                        <div class="flex items-start gap-2 mb-4 text-sm text-stone-600">
                            ${getIcon('map-pin', "mt-0.5 text-stone-400 shrink-0", 16)}
                            <span>${hotel.location}</span>
                        </div>
                        <div class="flex flex-wrap gap-2 mb-4">
                            ${hotel.features.map(f => `<span class="text-[10px] px-2 py-1 bg-indigo-50 text-indigo-600 rounded">${f}</span>`).join('')}
                        </div>
                        <div class="bg-amber-50 p-3 rounded text-xs text-amber-800 border border-amber-100 flex gap-2">
                            ${getIcon('info', "shrink-0 mt-0.5", 14)}
                            ${hotel.note}
                        </div>
                        <a href="https://www.google.com/maps/search/?api=1&query=$${encodeURIComponent(hotel.name)}" target="_blank" rel="noreferrer" class="mt-4 block w-full py-3 bg-stone-800 text-white text-center rounded-lg text-sm font-bold active:bg-stone-900 transition active:scale-[0.98]">Â∞éËà™Ëá≥È£ØÂ∫ó</a>
                    </div>
                </div>
            `).join('');

            return `
                <div class="space-y-4 animate-fade-in pb-20">
                    <h2 class="text-xl font-bold text-stone-800 px-1">Ëà™Áè≠Ë≥áË®ä</h2>
                    ${flightsHtml}
                    <h2 class="text-xl font-bold text-stone-800 px-1 mt-8 pt-4 border-t border-stone-300/50">‰ΩèÂÆøË≥áË®ä</h2>
                    ${hotelsHtml}
                </div>
            `;
        }

        function renderDrivingView() {
            const tipsHtml = TRIP_DATA.drivingGuide.tips.map(tip => `
                <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-4 border-l-4 border-l-lime-500">
                    <h3 class="font-bold text-lime-800 mb-1 flex items-center gap-2">
                        ${getIcon('triangle-alert', "text-lime-600", 18)}
                        ${tip.title}
                    </h3>
                    <p class="text-sm text-stone-600 leading-relaxed">${tip.content}</p>
                </div>
            `).join('');

            const signsHtml = TRIP_DATA.drivingGuide.signs.map(sign => `
                <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-3 flex flex-col items-center text-center">
                    <div class="mb-2 drop-shadow-sm scale-90">${renderTrafficSign(sign.type, sign.limit)}</div>
                    <div class="text-sm font-bold text-stone-800 mb-1">${sign.label}</div>
                    <div class="text-[10px] text-stone-500 leading-tight">${sign.desc}</div>
                </div>
            `).join('');

            const highwayHtml = TRIP_DATA.drivingGuide.highway.map(tip => `
                <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-4 border-l-4 border-l-indigo-500 bg-indigo-50/30">
                    <h3 class="font-bold text-indigo-900 mb-1 flex items-center gap-2">
                        ${getIcon('car', "text-indigo-600", 16)}
                        ${tip.title}
                    </h3>
                    <p class="text-sm text-stone-600 leading-relaxed">${tip.content}</p>
                </div>
            `).join('');

            return `
                <div class="space-y-6 animate-fade-in pb-20">
                    <h2 class="text-xl font-bold text-stone-800 px-1 flex items-center gap-2">
                        ${getIcon('car', "text-lime-600", 24)}
                        Êó•Êú¨Ëá™ÈßïÊ≥®ÊÑè‰∫ãÈ†Ö
                    </h2>
                      <div class="mb-2">
                    <img 
                        src="car.jpg" 
                        alt="Driving Visual Guide" 
                        class="w-full h-auto rounded-xlGuide" class="w-full h-full object-cover">
                    </div>

                    <div class="space-y-3">
                        ${tipsHtml}
                    </div>

                    <div>
                        <h3 class="text-lg font-bold text-stone-700 mb-3 px-1 border-l-4 border-stone-400 pl-2">Â∏∏Áî®‰∫§ÈÄöËôüË™å</h3>
                        <div class="grid grid-cols-2 gap-3">
                            ${signsHtml}
                        </div>
                    </div>

                    <div>
                        <h3 class="text-lg font-bold text-stone-700 mb-3 px-1 border-l-4 border-indigo-400 pl-2">È´òÈÄüÂÖ¨Ë∑ØË°åÈßõÊåáÂçó</h3>
                        <div class="space-y-3">
                            ${highwayHtml}
                        </div>
                    </div>
                </div>
            `;
        }

        function renderManholeView() {
            const rowsHtml = TRIP_DATA.manholeStock.map(item => `
                <tr class="hover:bg-indigo-50/50 transition-colors">
                    <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-stone-900">${item.region}</td>
                    <td class="px-4 py-3">
                        <a href="${item.url}" target="_blank" rel="noopener noreferrer" class="text-sm font-bold block ${item.highlight ? 'text-red-600' : 'text-indigo-600'}">
                            ${item.name}
                        </a>
                    </td>
                    <td class="px-4 py-3 whitespace-nowrap text-xs text-emerald-600 font-bold">${item.hours}</td>
                </tr>
            `).join('');

            return `
                <div class="animate-fade-in space-y-4 pb-20">
                    <h2 class="text-xl font-bold text-stone-800 px-1 flex items-center gap-2">
                        ${getIcon('credit-card', "text-amber-500", 24)}
                        „Éû„É≥„Éõ„Éº„É´„Ç´„Éº„Éâ Âú®Â∫´Áä∂Ê≥Å
                    </h2>
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-0">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-stone-200">
                                <thead class="bg-stone-50 sticky top-0">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-xs font-semibold text-stone-600 w-1/4">Âú∞ÂçÄ</th>
                                        <th class="px-4 py-3 text-left text-xs font-semibold text-stone-600 w-1/2">Âú∞Èªû</th>
                                        <th class="px-4 py-3 text-left text-xs font-semibold text-stone-600 w-1/4">ÊôÇÈñì</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-stone-100">
                                    ${rowsHtml}
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderMapView() {
            const linksHtml = TRIP_DATA.mapLinks.map(link => `
                <a href="${link.url}" target="_blank" rel="noopener noreferrer" class="flex items-center justify-between p-4 bg-white/95 backdrop-blur-sm border border-stone-200 rounded-xl shadow-sm active:bg-stone-50 transition-colors">
                    <div class="flex items-center gap-3">
                        <div class="p-2 bg-emerald-100 text-emerald-600 rounded-full">${getIcon('map', "", 20)}</div>
                        <span class="font-bold text-stone-700 text-lg">${link.title}</span>
                    </div>
                    ${getIcon('external-link', "text-stone-400", 18)}
                </a>
            `).join('');

            return `
                <div class="space-y-4 animate-fade-in pb-20">
                    <h2 class="text-xl font-bold text-stone-800 px-1 flex items-center gap-2">
                        ${getIcon('map', "text-emerald-600", 24)}
                        Âú∞ÂúñËàáÁõ∏ÈóúÈÄ£Áµê
                    </h2>
                    <div class="space-y-3">
                        ${linksHtml}
                    </div>
                </div>
            `;
        }

        function renderNotesView() {
            const daysHtml = TRIP_DATA.notes.map(day => {
                let content = '';

                if (day.links) {
                    content += `<div class="space-y-2">
                        ${day.links.map(link => `
                            <a href="${link.url}" target="_blank" rel="noopener noreferrer" class="flex items-center justify-between p-3 bg-white border border-indigo-100 rounded-lg shadow-sm active:bg-indigo-50 transition-colors">
                                <div class="flex flex-col">
                                    <span class="text-indigo-700 font-bold flex items-center gap-2">${link.title}${getIcon('external-link', "opacity-50", 14)}</span>
                                    ${link.note ? `<span class="text-xs text-stone-500 mt-0.5">${link.note}</span>` : ''}
                                </div>
                            </a>
                        `).join('')}
                    </div>`;
                }

                if (day.dining) {
                    content += `<div class="bg-orange-50/50 rounded-lg p-3 border border-orange-100 mt-4">
                        <h4 class="text-xs font-bold text-orange-600 mb-2 uppercase tracking-wide flex items-center gap-1">${getIcon('utensils', "", 12)} È§êÈ£≤Ë≥áË®ä</h4>
                        ${day.dining.map(areaGroup => `
                            <div class="mb-4 last:mb-0">
                                <div class="text-xs font-bold text-stone-500 mb-1 border-b border-orange-200 inline-block">${areaGroup.area}</div>
                                <ul class="space-y-2 pl-2">
                                    ${areaGroup.spots.map(spot => `
                                        <li class="flex justify-between items-center text-sm">
                                            <div class="flex flex-col">
                                                <div class="flex items-center gap-2">
                                                    <span class="text-stone-700 font-medium">${spot.name}</span>
                                                    ${spot.cuisine ? `<span class="text-[10px] px-1.5 py-0.5 bg-orange-100 text-orange-700 rounded-md font-bold">${spot.cuisine}</span>` : ''}
                                                </div>
                                                <span class="text-[11px] font-mono text-stone-500 mt-0.5">${spot.hours}</span>
                                                ${spot.note ? `<span class="text-[10px] mt-0.5 text-orange-600">${spot.note}</span>` : ''}
                                            </div>
                                            <a href="${spot.mapUrl || getGoogleMapUrl(spot.name)}" target="_blank" rel="noopener noreferrer" class="p-2 bg-blue-50 text-blue-600 rounded-full active:scale-95 hover:bg-blue-100 transition-colors shrink-0">${getIcon('navigation', "", 16)}</a>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>`;
                }

                if (day.routes) {
                    content += `<div class="space-y-4 mt-4">
                        ${day.routes.map(route => `
                            <div class="bg-sky-50 rounded-lg p-3 border border-sky-100">
                                <h4 class="font-bold text-sky-800 mb-2 flex items-center gap-2">${getIcon('map-pin', "", 14)} ${route.area}</h4>
                                <ul class="space-y-2 relative pl-4 border-l-2 border-sky-200 ml-1">
                                    ${route.spots.map(spot => `
                                        <li class="relative flex justify-between items-start">
                                            <div class="absolute -left-[21px] top-1.5 w-2 h-2 rounded-full bg-sky-300"></div>
                                            <div class="flex-1 pr-2">
                                                <div class="flex items-center gap-2"><div class="text-sm font-bold text-stone-700">${spot.name}</div>${spot.cuisine ? `<span class="text-[10px] px-1.5 py-0.5 bg-orange-100 text-orange-700 rounded-md font-bold">${spot.cuisine}</span>` : ''}</div>
                                                <div class="text-[11px] text-stone-500 font-mono mt-0.5">${spot.hours}</div>
                                                ${spot.note ? `<div class="text-[10px] text-amber-600 mt-0.5">${spot.note}</div>` : ''}
                                            </div>
                                            <a href="${spot.mapUrl || getGoogleMapUrl(spot.name)}" target="_blank" rel="noopener noreferrer" class="p-2 bg-blue-50 text-blue-600 rounded-full active:scale-95 hover:bg-blue-100 transition-colors shrink-0">${getIcon('navigation', "", 16)}</a>
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        `).join('')}
                    </div>`;
                }

                return `
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-0 border-l-4 border-l-pink-400">
                        <div class="bg-stone-50 px-4 py-2 border-b border-stone-100"><h3 class="font-bold text-stone-800">${day.date}</h3></div>
                        <div class="p-4 space-y-4">
                            ${content}
                        </div>
                    </div>
                `;
            }).join('');

            return `
                <div class="space-y-6 animate-fade-in pb-20">
                    <h2 class="text-xl font-bold text-stone-800 px-1 flex items-center gap-2">
                        ${getIcon('notebook-pen', "text-pink-500", 24)}
                        Ë°åÁ®ãÂÇôË®ª
                    </h2>
                    ${daysHtml}
                </div>
            `;
        }

        function renderFooter() {
            return `
                <div class="text-center pt-8 pb-4 opacity-80 mb-16">
                    <div class="border-t border-stone-400/30 pt-2 px-4 inline-flex items-baseline gap-2">
                        <span class="text-sm text-stone-500 font-medium tracking-wider">Created by</span>
                        <span class="text-4xl text-stone-600" style="font-family: 'Dancing Script', cursive">Wen</span>
                    </div>
                </div>
            `;
        }

        // ==========================================
        // --- Main Controller ---
        // ==========================================

        function updateView() {
            const mainContent = document.getElementById('main-content');
            const scrollerContainer = document.getElementById('date-scroller-container');
            const headerStatus = document.getElementById('header-status');

            // Reset scroll
            mainContent.scrollTop = 0;

            // Render specific tab content
            let contentHtml = '';
            switch(state.activeTab) {
                case 'itinerary': 
                    contentHtml = renderItineraryView(state.selectedDayId);
                    scrollerContainer.classList.remove('hidden');
                    updateDateScroller();
                    break;
                case 'flights': 
                    contentHtml = renderFlightsView();
                    scrollerContainer.classList.add('hidden');
                    headerStatus.classList.add('hidden');
                    break;
                case 'driving': 
                    contentHtml = renderDrivingView();
                    scrollerContainer.classList.add('hidden');
                    headerStatus.classList.add('hidden');
                    break;
                case 'manhole': 
                    contentHtml = renderManholeView();
                    scrollerContainer.classList.add('hidden');
                    headerStatus.classList.add('hidden');
                    break;
                case 'map': 
                    contentHtml = renderMapView();
                    scrollerContainer.classList.add('hidden');
                    headerStatus.classList.add('hidden');
                    break;
                case 'notes': 
                    contentHtml = renderNotesView();
                    scrollerContainer.classList.add('hidden');
                    headerStatus.classList.add('hidden');
                    break;
                default:
                    contentHtml = renderItineraryView(state.selectedDayId);
            }
            
            mainContent.innerHTML = contentHtml + renderFooter();
            updateBottomNav();
            
            // Re-initialize icons
            lucide.createIcons();
        }

        function updateDateScroller() {
            const scroller = document.getElementById('date-scroller');
            
            const buttonsHtml = TRIP_DATA.itinerary.map(day => {
                const isActive = state.selectedDayId === day.id;
                const activeClasses = isActive 
                    ? "bg-indigo-600/90 backdrop-blur border-indigo-600 text-white shadow-lg shadow-indigo-200" 
                    : "bg-white/60 backdrop-blur border-stone-200 text-stone-400";
                
                return `
                    <button
                        onclick="switchDay('${day.id}')"
                        id="btn-${day.id}"
                        class="flex-shrink-0 snap-center flex flex-col items-center justify-center w-14 h-16 rounded-xl border transition-all duration-300 active:scale-95 ${activeClasses}"
                    >
                        <span class="text-[10px] font-medium uppercase leading-none mb-1">${day.date}</span>
                        <span class="text-lg font-black leading-none">${day.dayOfWeek}</span>
                    </button>
                `;
            }).join('');
            
            scroller.innerHTML = buttonsHtml;
            
            // Scroll selected into view
            setTimeout(() => {
                const selectedBtn = document.getElementById(`btn-${state.selectedDayId}`);
                if (selectedBtn) {
                    selectedBtn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                }
            }, 50);
        }

        function updateBottomNav() {
            const nav = document.getElementById('bottom-nav');
            const tabs = [
                { id: 'itinerary', label: 'Ë°åÁ®ã', icon: 'calendar' },
                { id: 'flights', label: 'Ëà™Áè≠/‰ΩèÂÆø', icon: 'plane' },
                { id: 'driving', label: 'Ëá™Èßï', icon: 'car', color: 'text-lime-600' },
                { id: 'manhole', label: 'Â∫´Â≠ò', icon: 'credit-card', sub: 'scale-90' },
                { id: 'map', label: 'Âú∞Âúñ', icon: 'map', color: 'text-emerald-600' },
                { id: 'notes', label: 'ÂÇôË®ª', icon: 'notebook-pen', color: 'text-pink-600' }
            ];

            const html = tabs.map(tab => {
                const isActive = state.activeTab === tab.id;
                const defaultColor = isActive ? 'text-indigo-600' : 'text-stone-400';
                const activeColor = (tab.color && isActive) ? tab.color : defaultColor;
                const strokeWidth = isActive ? 2.5 : 2;

                return `
                    <button 
                        onclick="switchTab('${tab.id}')"
                        class="flex flex-col items-center justify-center w-14 h-full space-y-1 active:bg-stone-50 transition-colors ${activeColor}"
                    >
                        ${getIcon(tab.icon, "", 20)}
                        <span class="text-[9px] font-medium ${tab.sub || ''}">${tab.label}</span>
                    </button>
                `;
            }).join('');

            nav.innerHTML = html;
        }

        // ==========================================
        // --- Actions ---
        // ==========================================

        function switchTab(tabId) {
            state.activeTab = tabId;
            updateView();
        }

        function switchDay(dayId) {
            state.selectedDayId = dayId;
            updateView();
        }

        // ==========================================
        // --- Init ---
        // ==========================================
        document.addEventListener('DOMContentLoaded', () => {
            updateView();
        });

    </script>
</body>
</html>
