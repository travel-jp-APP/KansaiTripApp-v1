<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Kansai Trip 2025-2026</title>
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#f5f5f4">
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <style>
        html, body {
            height: 100%;
            overflow: hidden;
            background-color: #f5f5f4;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
        
        @keyframes fadeInUp {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeInUp 0.4s ease-out forwards; }
        .active-scale:active { transform: scale(0.95); }
    </style>
</head>
<body>
    <div id="root" class="h-full"></div>

    <script>
        // ==========================================
        // --- 1. è³‡æ–™çµæ§‹ (TRIP_DATA) ---
        // ==========================================
        const TRIP_DATA = {
            flights: [
                { type: "Departure", date: "2025/12/27 (å…­)", code: "CX564", airline: "åœ‹æ³°èˆªç©º", route: "TPE å°åŒ— (11:15) â” KIX å¤§é˜ª (14:55)", terminal: "TPE T1 / KIX T1", duration: "2h 40m", aircraft: "Airbus A330-300", class: "ç¶“æ¿Ÿ Q" },
                { type: "Return", date: "2026/01/04 (æ—¥)", code: "CX565", airline: "åœ‹æ³°èˆªç©º", route: "KIX å¤§é˜ª (16:15) â” TPE å°åŒ— (18:30)", terminal: "KIX T1 / TPE T1", duration: "3h 25m", aircraft: "Airbus A330-300", class: "ç¶“æ¿Ÿ S" }
            ],
            hotels: [
                { name: "è‰æ´¥æ³¢å£«é “å»£å ´é£¯åº—", engName: "Hotel Boston Plaza Kusatsu", dates: "12/27 - 1/1 (5æ™š)", location: "æ»‹è³€ç¸£è‰æ´¥å¸‚ (JRè‰æ´¥ç«™æ—)", features: ["äº¤é€šä¾¿åˆ©", "ç¾å¼é¢¨æ ¼", "é©åˆè‡ªé§•"], note: "ä½œç‚ºæ»‹è³€ç¸£äººå­”è“‹å¡æ”¶é›†çš„åŸºåœ°éå¸¸åˆé©ã€‚", image: "Boston.jpg", imageAlt: "è‰æ´¥æ³¢å£«é “å»£å ´é£¯åº—å¤–è§€" },
                { name: "REF äº¬éƒ½å…«æ¢å£ by VESSEL HOTELS", engName: "REF Kyoto Hachijoguchi", dates: "1/1 - 1/4 (3æ™š)", location: "äº¬éƒ½å¸‚å—å€ (äº¬éƒ½ç«™å…«æ¢å£)", features: ["å¤§æµ´å ´", "ç¾ä»£æ—¥å¼", "å…è²»è¿è³“é£²æ–™"], note: "é è¿‘äº¬éƒ½è»Šç«™ï¼Œæ–¹ä¾¿å‰å¾€ç¥æˆ¶ã€å¥ˆè‰¯èˆ‡å›ç¨‹æ©Ÿå ´ã€‚", image: "Kyoto.jpg", imageAlt: "REF äº¬éƒ½å…«æ¢å£é£¯åº—å¤§å»³" }
            ],
            itinerary: [
                { id: "day1", date: "12/27", dayOfWeek: "å…­", location: "å¤§é˜ª â” æ»‹è³€", weather: "sunny", temp: "8Â°C", items: [
                    { type: "transport", time: "11:15", title: "æ­ä¹˜ CX564 é£›å¾€å¤§é˜ª", note: "é è¨ˆ 14:55 æŠµé”é—œè¥¿æ©Ÿå ´ T1" },
                    { type: "visit", time: "15:30", title: "è‡¨ç©ºåŸè§€å…‰æ¡ˆå…§æ‰€", tag: "æ”¶é›†", note: "ğŸ”¥ é ˜å–äººå­”è“‹å¡/ç´€å¿µå“ã€‚ç‡Ÿæ¥­è‡³20:00ã€‚", mapUrl: "https://maps.app.goo.gl/AFLxB4tBLNV1DPb79" },
                    { type: "shop", time: "16:00", title: "è‡¨ç©ºåŸ Outlet", highlight: "å¿…è²·: é‹å‹•å“ç‰Œã€æ—¥ç³»æœé£¾", note: "æ™šé¤å¯åœ¨æ­¤è§£æ±ºã€‚ç‡Ÿæ¥­è‡³20:00ã€‚" },
                    { type: "transport", time: "19:00", title: "å‰å¾€è‰æ´¥", note: "é—œè¥¿æ©Ÿå ´ â†’ äº¬éƒ½è»Šç«™ â†’ è‰æ´¥è»Šç«™" },
                    { type: "hotel", time: "21:30", title: "å…¥ä½ï¼šè‰æ´¥æ³¢å£«é “å»£å ´é£¯åº—", note: "ä½æ–¼è‰æ´¥ç«™è¥¿å£ï¼Œä¼‘æ¯æº–å‚™æ˜æ—¥è‡ªé§•ã€‚" }
                ]},
                { id: "day2", date: "12/28", dayOfWeek: "æ—¥", location: "æ»‹è³€è‡ªé§•", weather: "cloudy", temp: "6Â°C", items: [
                    { type: "transport", time: "08:00", title: "ç§Ÿè»Šï¼šToyota Rent a Car", note: "è‰æ´¥ç«™è¥¿å£åº—å–è»Šã€‚", mapUrl: "https://maps.app.goo.gl/SDWrnzuSNuSV1V6V9" },
                    { type: "visit", time: "09:40", title: "Kusatsu Yume-Honjin", tag: "æ”¶é›†", note: "ãã•ã¤å¤¢æœ¬é™£ï¼Œé ˜å–äººå­”è“‹å¡ã€‚09:30é–‹é–€ã€‚", parkingUrl: "https://maps.app.goo.gl/u6ZijyhJJtStz16C8", mapUrl: "https://maps.app.goo.gl/gQ4efFwChjmxP4Gq5?g_st=ipc" },
                    { type: "visit", time: "10:20", title: "æ —æ±è¦³å…‰æ¡ˆå†…æ‰€ (2F)", tag: "æ”¶é›†", note: "ä½æ–¼æ‰‹åŸç«™ã€‚æ³¨æ„ç‡Ÿæ¥­æ™‚é–“è‡³12:00ã€‚" },
                    { type: "visit", time: "11:00", title: "å®ˆå±±å¸‚é§…å‰ç·åˆæ¡ˆå†…æ‰€", tag: "æ”¶é›†", note: "ä½æ–¼å®ˆå±±ç«™ã€‚07:30æ—©é–‹ã€‚" },
                    { type: "visit", time: "12:00", title: "å…«æ—¥å¸‚é§…å‰è¦³å…‰äº¤æµæ–½è¨­", tag: "æ”¶é›†", note: "æ±è¿‘æ±Ÿå¸‚çš„å¤§é¢¨ç®åšç‰©é¤¨é™„è¿‘ã€‚" },
                    { type: "visit", time: "13:00", title: "æ±è¿‘æ±Ÿå¸‚å½¹æ‰€ å®ˆè¡›å®¤", tag: "æ”¶é›†", note: "ç‡Ÿæ¥­æ™‚é–“ (10:00â€“16:00)ã€‚", mapUrl: "https://www.google.com/maps/search/?api=1&query=æ±è¿‘æ±Ÿå¸‚å½¹æ‰€" },
                    { type: "visit", time: "14:00", title: "å½¥æ ¹å¸‚ä¸Šä¸‹æ°´é“ä¸­å¿ƒ", tag: "æ”¶é›†", note: "éœ€å¹³æ—¥æˆ–ç‰¹å®šå‡æ—¥çª—å£ã€‚", mapUrl: "https://maps.app.goo.gl/mVScUD8s72aGcQTF9" },
                    { type: "visit", time: "14:30", title: "Hikonyan Museum", highlight: "å¿…çœ‹: å½¥æ ¹è²“è¡¨æ¼”", note: "ğŸ”¥ å½¥æ ¹è²“åšç‰©é¤¨ã€‚", mapUrl: "https://maps.app.goo.gl/kkbKSaDFaAikUWC89" },
                    { type: "visit", time: "15:30", title: "å½¥æ ¹åŸ", highlight: "åœ‹å¯¶äº”åŸ", note: "è³æ«»åæ‰€(é›–æ˜¯å†¬å¤©)ã€‚", mapUrl: "https://maps.app.goo.gl/oQ6LteKGpyHSDj7s5" },
                    { type: "shop", time: "17:30", title: "MITSUI OUTLET PARK æ»‹è³€é¾ç‹", highlight: "é—œè¥¿æœ€å¤§ç´š Outlet", note: "æ™šé¤æ¨è–¦è¿‘æ±Ÿç‰›æ–™ç†ã€‚" }
                ]},
                { id: "day3", date: "12/29", dayOfWeek: "ä¸€", location: "æµ·ä¹‹äº¬éƒ½", weather: "rain", temp: "4Â°C", items: [
                    { type: "visit", time: "09:00", title: "ä¼Šæ ¹ç£è³æ™¯è§€å…‰èˆ¹", highlight: "å¿…æ‹: èˆŸå±‹ç¾¤", note: "è³¼è²·è¦æ¢é¤µæµ·é·—ã€‚éŠè¦½æ™‚é–“ç´„25åˆ†é˜ã€‚" },
                    { type: "visit", time: "10:30", title: "é“ã®é§… æµ·ã®äº¬éƒ½ å®®æ´¥", tag: "æ”¶é›†", note: "å®®æ´¥è§€å…‰æ¡ˆå…§æ‰€é ˜å–äººå­”è“‹å¡ã€‚", mapUrl: "https://maps.app.goo.gl/8o12WE4J7ZNhWoeWA" },
                    { type: "food", time: "12:00", title: "åˆé¤ï¼šå¤©æ©‹ç«‹å‘¨é‚Š", highlight: "å¿…åƒ: è›¤è £ä¸¼", note: "æ¨è–¦ï¼šå¯Œç”°å±‹ã€æµ·é®®å·¥æˆ¿ã€‚" },
                    { type: "visit", time: "13:30", title: "å¤©æ©‹ç«‹ (å‚˜æ¾å…¬åœ’)", highlight: "æ—¥æœ¬ä¸‰æ™¯", note: "æ­ä¹˜çºœè»Š/åŠæ¤…ä¸Šå±±ã€‚" },
                    { type: "visit", time: "15:00", title: "å…ƒä¼Šå‹¢ ç± ç¥ç¤¾ & æ™ºæ©å¯º", note: "åƒæ‹œå¤è€ç¥ç¤¾ã€‚" },
                    { type: "visit", time: "16:00", title: "å¤©æ©‹ç«‹ View Land", note: "å¾å¦ä¸€å´çœ‹é£›é¾è§€ã€‚" }
                ]},
                { id: "day4", date: "12/30", dayOfWeek: "äºŒ", location: "é•·æ¿±/çµç¶æ¹–", weather: "cloudy", temp: "5Â°C", items: [
                    { type: "visit", time: "08:50", title: "ç«¹ç”Ÿå³¶è§€å…‰èˆ¹", note: "å¾é•·æ¿±æ¸¯å‡ºç™¼ã€‚" },
                    { type: "visit", time: "10:00", title: "ç«¹ç”Ÿå³¶ å¯¶åš´å¯º", highlight: "æŠ•æ“²ç“¦ç‰‡ç¥ˆç¦", note: "åƒæ‹œå¼è²¡å¤©ã€‚" },
                    { type: "visit", time: "12:00", title: "é»‘å£å»£å ´", highlight: "å¿…åƒ: 96Cafe", note: "ç»ç’ƒå·¥è—å“åº—æ—ç«‹ã€‚" },
                    { type: "visit", time: "14:30", title: "å¤šè³€å¤§ç¤¾", highlight: "é•·å£½ç¥ˆé¡˜", note: "æ»‹è³€ç¸£ç¬¬ä¸€å¤§ç¤¾ã€‚" },
                    { type: "visit", time: "16:00", title: "è¿‘æ±Ÿç¥å®®", highlight: "èŠ±ç‰Œæƒ…ç·£è–åœ°", note: "ä»¥ç«¶æŠ€æ­Œç‰Œèåã€‚" }
                ]},
                { id: "day5", date: "12/31", dayOfWeek: "ä¸‰", location: "è¿‘æ±Ÿå…«å¹¡", weather: "snow", temp: "3Â°C", items: [
                    { type: "transport", time: "08:00", title: "æ—¥ç‰Ÿç¦®å…«å¹¡å®®å‰ ç„¡æ–™é§è»Šå ´", note: "æ–°å¹´åƒæ‹œæˆ–éŠè¦½å…«å¹¡å €å‰åœè»Šã€‚", mapUrl: "https://maps.app.goo.gl/Sk3cyrf86bb4MXxx7?g_st=ipc" },
                    { type: "visit", time: "09:00", title: "å…«å¹¡å±±çºœè»Š & åŸè·¡", note: "çœºæœ›çµç¶æ¹–ã€‚", mapUrl: "https://www.google.com/maps/search/?api=1&query=å…«å¹¡å±±çºœè»Š" },
                    { type: "visit", time: "10:30", title: "å…«å¹¡å €éŠèˆ¹", highlight: "æ™‚ä»£åŠ‡å–æ™¯åœ°", note: "åœ¨å……æ»¿é¢¨æƒ…çš„æ°´é„‰ä¹˜èˆ¹æ¼«éŠã€‚" },
                    { type: "visit", time: "12:30", title: "La Collina è¿‘æ±Ÿå…«å¹¡", highlight: "å¿…è²·: å¹´è¼ªè›‹ç³•", note: "å»ºç¯‰å¤§å¸«è—¤æ£®ç…§ä¿¡è¨­è¨ˆã€‚" },
                    { type: "food", time: "17:00", title: "è·¨å¹´æ™šé¤", note: "å»ºè­°æå‰é è¨‚é¤å»³ã€‚", mapUrl: null },
                    { type: "transport", time: "20:00", title: "é‚„è»Šï¼šToyota Rent a Car", note: "å‹™å¿…æ–¼ 20:00 å‰å®Œæˆé‚„è»Šã€‚", mapUrl: "https://maps.app.goo.gl/49vueN16a8RcXojK7" }
                ]},
                { id: "day6", date: "1/1", dayOfWeek: "å››", location: "ç¥æˆ¶/åˆè©£", weather: "sunny", temp: "7Â°C", items: [
                    { type: "transport", time: "08:00", title: "ç§»å‹•è‡³äº¬éƒ½ä¸¦å‰å¾€ç¥æˆ¶", note: "å¯„æ”¾è¡Œæå¾Œæ­é˜ªæ€¥å‰å¾€ç¥æˆ¶ã€‚", mapUrl: "https://maps.app.goo.gl/wvQV78Z1MTSnDR3J6" },
                    { type: "visit", time: "10:30", title: "ç”Ÿç”°ç¥ç¤¾", highlight: "æˆ€æ„›çµç·£", note: "æ–°å¹´åƒæ‹œ (åˆè©£)ã€‚", mapUrl: "https://maps.app.goo.gl/Qp6xcnbq8jurtKjr7" },
                    { type: "visit", time: "12:00", title: "åŒ—é‡å¤©æ»¿ç¥ç¤¾", note: "ä½æ–¼ç•°äººé¤¨å€çš„é«˜é»ã€‚" },
                    { type: "visit", time: "14:00", title: "ç¥æˆ¶æ©Ÿå ´ ç¶œåˆæ¡ˆå…§æ‰€", tag: "æ”¶é›†", note: "é ˜å–äººå­”è“‹å¡ã€‚", mapUrl: "https://maps.app.goo.gl/NNi4QQFVeQrsUWkb9" },
                    { type: "visit", time: "16:30", title: "å¤§é³¥å¤§ç¤¾", tag: "æ”¶é›†", note: "å¤§é˜ªå ºå¸‚ã€‚é †è·¯åƒæ‹œã€‚", mapUrl: "https://maps.app.goo.gl/kyxyYjHMVcdGzBZg6?g_st=ipc" },
                    { type: "shop", time: "18:30", title: "å¯¶å¯å¤¢ä¸­å¿ƒ å¤§é˜ªåº— DX", highlight: "å¿…è²·: é™å®šå•†å“", note: "å¿ƒé½‹æ©‹ã€‚", mapUrl: "https://maps.app.goo.gl/6XNEnaevDXWHBe1q9" },
                    { type: "shop", time: "20:00", title: "å¯¶å¯å¤¢ä¸­å¿ƒ å¤§é˜ªå¤§ä¸¸æ¢…ç”°", highlight: "å¿…è²·: é™å®šå•†å“", note: "æ³¨æ„é—œé–€æ™‚é–“ã€‚", mapUrl: "https://www.google.com/maps/search/?api=1&query=å¯¶å¯å¤¢ä¸­å¿ƒ+æ¢…ç”°" }
                ]},
                { id: "day7", date: "1/2", dayOfWeek: "äº”", location: "å¥ˆè‰¯/å®‡æ²»", weather: "sunny", temp: "6Â°C", items: [
                    { type: "visit", time: "08:30", title: "æ˜¥æ—¥å¤§ç¤¾", highlight: "é¹¿èˆ‡ç‡ˆç± ", note: "åƒé“ä¸Šçš„é¹¿ç¾¤ã€‚" },
                    { type: "food", time: "11:00", title: "æ°´è°·èŒ¶å±‹", highlight: "èŒ…è‰å±‹èŒ¶å±‹", note: "æ‹ç…§è¶…ç¾ã€‚" },
                    { type: "visit", time: "12:30", title: "æ±å¤§å¯º & äºŒæœˆå ‚", highlight: "å¤§ä½›", note: "ä¸–ç•Œæœ€å¤§æœ¨é€ å»ºç¯‰ã€‚", mapUrl: "https://maps.app.goo.gl/uV4YfjDbdyKA6kJ36?g_st=ipc" },
                    { type: "visit", time: "13:30", title: "å¾¡éœŠç¥ç¤¾", note: "å¥ˆè‰¯å¸‚å¾¡éœŠç¥ç¤¾ã€‚", mapUrl: "https://maps.app.goo.gl/H4zGYhXNHFs1SHbG7" },
                    { type: "visit", time: "14:30", title: "å¥ˆè‰¯ç”ºå—è¦³å…‰æ¡ˆå†…æ‰€", tag: "æ”¶é›†", note: "é ˜å–å¥ˆè‰¯äººå­”è“‹å¡ã€‚" },
                    { type: "visit", time: "15:30", title: "å®‡æ²»è¦³å…‰ã‚»ãƒ³ã‚¿ãƒ¼", tag: "æ”¶é›†", note: "é ˜å–å®‡æ²»äººå­”è“‹å¡ã€‚" },
                    { type: "shop", time: "16:30", title: "å‰ä¼Šå¡å“‡ ä¼è¦‹åº—", highlight: "äº¬éƒ½é™å®š", note: "å¿…è²·ä¼è¦‹ç¨»è·é™å®šå‘¨é‚Šã€‚" }
                ]},
                { id: "day8", date: "1/3", dayOfWeek: "å…­", location: "äº¬éƒ½å·¡ç¦®", weather: "cloudy", temp: "5Â°C", items: [
                    { type: "visit", time: "08:30", title: "å¤©é¾å¯º (åµå±±)", highlight: "æ›¹æºæ± åº­åœ’", note: "ä¸–ç•Œéºç”¢ã€‚" },
                    { type: "visit", time: "10:30", title: "å°‹æ‰¾é³³ç‹äººå­”è“‹", tag: "æ”¶é›†", note: "å¯¶å¯å¤¢äººå­”è“‹ã€‚", mapUrl: "https://maps.app.goo.gl/rX5RkRCimURC2yaNA" },
                    { type: "visit", time: "13:00", title: "ä»å’Œå¯º", note: "çš‡å®¤æ·µæºæ·±åšã€‚", mapUrl: "https://maps.app.goo.gl/5YWzcadDHfKG9SeR7?g_st=ipc" },
                    { type: "visit", time: "15:00", title: "å¹³å®‰ç¥å®®", note: "å·¨å¤§çš„ç´…è‰²é³¥å±…ã€‚" },
                    { type: "shop", time: "16:30", title: "Pokemon Center Kyoto", highlight: "è—å¦“çš®å¡ä¸˜", note: "ä½æ–¼ SUINA å®¤ç”º 2Fã€‚" },
                    { type: "shop", time: "18:00", title: "å‰ä¼Šå¡å“‡ Land äº¬éƒ½", note: "å››æ¢æ²³åŸç”ºã€‚", mapUrl: "https://www.google.com/maps/search/?api=1&query=Kiddyland+äº¬éƒ½" }
                ]},
                { id: "day9", date: "1/4", dayOfWeek: "æ—¥", location: "å¤§é˜ª â” å°åŒ—", weather: "sunny", temp: "8Â°C", items: [
                    { type: "transport", time: "08:12", title: "å‰å¾€å¤§é˜ª", note: "äº¬éƒ½è»Šç«™ â†’ å¤§é˜ªã€‚" },
                    { type: "visit", time: "09:30", title: "ATC Green Eco Plaza", note: "ä½æ–¼å—æ¸¯ã€‚" },
                    { type: "visit", time: "11:00", title: "å ºæ±è¦³å…‰æ¡ˆå†…æ‰€", tag: "æ”¶é›†", note: "é ˜å–å ºå¸‚äººå­”è“‹å¡ã€‚" },
                    { type: "visit", time: "12:00", title: "å²¸å’Œç”°ç«™å‰è§€å…‰æ¡ˆå…§æ‰€", tag: "æ”¶é›†", note: "å²¸å’Œç”°ç¥­ã€‚", mapUrl: "https://maps.app.goo.gl/hbFc4FkHzPWHKGkDA" },
                    { type: "visit", time: "13:30", title: "ã¾ã¡ã®é§…ã‹ã„ã¥ã‹", tag: "æ”¶é›†", note: "è²å¡šå¸‚äººå­”è“‹å¡ã€‚", mapUrl: "https://www.google.com/maps/search/?api=1&query=ã¾ã¡ã®é§…ã‹ã„ã¥ã‹" },
                    { type: "visit", time: "15:00", title: "æ³‰ä½é‡å¸‚è¦³å…‰æƒ…å ±ã‚»ãƒ³ã‚¿ãƒ¼", tag: "æ”¶é›†", note: "æœ€å¾Œä¸€ç«™æ”¶é›†ï¼" },
                    { type: "transport", time: "16:15", title: "æ­ä¹˜ CX565 è¿”å°", note: "é è¨ˆ 18:30 æŠµé”å°åŒ—ã€‚" }
                ]}
            ],
            manholeStock: [
                { name: "è‡¨ç©ºåŸæ¡ˆå…§æ‰€", region: "å¤§é˜ª", hours: "09:00â€“20:00", url: "https://www.city.izumisano.lg.jp/kakuka/jogesuidokyoku/jogesui/menu/1511934914176.html" },
                { name: "å¤§æ´¥è»Šç«™è§€å…‰æ¡ˆå†…æ‰€", region: "æ»‹è³€", hours: "09:00â€“18:00", url: "#", highlight: true },
                { name: "ãã•ã¤å¤¢æœ¬é™£", region: "æ»‹è³€", hours: "09:00â€“17:00", url: "#" },
                { name: "ç¥æˆ¸ç©ºæ¸¯ 1 éšç·åˆæ¡ˆå†…æ‰€", region: "å…µåº«", hours: "07:00â€“23:00", url: "#" }
            ],
            mapLinks: [
                { title: "é—œè¥¿å‘¨éŠè·¯ç·šåœ–", url: "https://www.surutto.com/kansai_rw/assets/pdf/areamap2024_tw.pdf" },
                { title: "Osaka Metroè·¯ç·šåœ–", url: "https://subway.osakametro.co.jp/img/osakametro_rosenzu_20250404.pdf" }
            ],
            notes: [] // ç°¡åŒ–é¡¯ç¤ºï¼Œå®Œæ•´è³‡æ–™è«‹åƒç…§åŸå§‹æª”
        };

        // ==========================================
        // --- 2. åœ–ç¤º (SVG Icons) ---
        // ==========================================
        const Icons = {
            MapPin: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>`,
            Navigation: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 11 22 2 13 21 11 13 3 11"/></svg>`,
            Utensils: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2"/><path d="M7 2v20"/><path d="M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7"/></svg>`,
            Train: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="16" height="16" x="4" y="3" rx="2"/><path d="M4 11h16"/><path d="M12 3v8"/><path d="m8 19-2 3"/><path d="m18 22-2-3"/><circle cx="8" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg>`,
            Sun: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-orange-500"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>`,
            Cloud: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-500"><path d="M17.5 19c0-3.037-2.463-5.5-5.5-5.5S6.5 15.963 6.5 19"/><path d="M17.5 19c3.037 0 5.5-2.463 5.5-5.5S20.537 8 17.5 8h-1.375A8.003 8.003 0 0 0 2 11c0 4.418 3.582 8 8 8h7.5z"/></svg>`,
            CloudRain: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-blue-500"><path d="M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"/><path d="M16 14v6"/><path d="M8 14v6"/><path d="M12 16v6"/></svg>`,
            Snowflake: `<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-cyan-400"><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/><path d="m20 16-4-4 4-4"/><path d="m4 8 4 4-4 4"/><path d="m16 4-4 4-4-4"/><path d="m8 20 4-4 4 4"/></svg>`,
            ShoppingBag: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"/><path d="M3 6h18"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>`,
            Plane: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z" /></svg>`,
            Hotel: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2Z"/><path d="m9 22v-4h6v4"/><path d="M8 6h.01"/><path d="M16 6h.01"/><path d="M12 6h.01"/><path d="M12 10h.01"/><path d="M12 14h.01"/><path d="M16 10h.01"/><path d="M16 14h.01"/><path d="M8 10h.01"/><path d="M8 14h.01"/></svg>`,
            Camera: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/></svg>`,
            Star: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`,
            Car: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2"/><circle cx="7" cy="17" r="2"/><path d="M9 17h6"/><circle cx="17" cy="17" r="2"/></svg>`,
            Calendar: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/></svg>`,
            CreditCard: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="5" rx="2"/><line x1="2" x2="22" y1="10" y2="10"/></svg>`,
            MapIcon: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21"/><line x1="9" x2="9" y1="3" y2="18"/><line x1="15" x2="15" y1="6" y2="21"/></svg>`,
            NotebookPen: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>`,
            ExternalLink: `<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/></svg>`
        };

        // ==========================================
        // --- 3. æ‡‰ç”¨ç¨‹å¼é‚è¼¯ (Vanilla JS) ---
        // ==========================================
        
        let state = {
            activeTab: 'itinerary',
            selectedDayId: 'day1'
        };

        const getGoogleMapUrl = (name) => `http://googleusercontent.com/maps.google.com/search?q=${encodeURIComponent(name)}`;

        function getWeatherIcon(type) {
            switch (type) {
                case 'sunny': return Icons.Sun;
                case 'cloudy': return Icons.Cloud;
                case 'rain': return Icons.CloudRain;
                case 'snow': return Icons.Snowflake;
                default: return Icons.Sun;
            }
        }

        function renderItineraryItem(item) {
            let IconSvg = Icons.MapPin;
            let iconColor = "text-stone-400";
            let borderColor = "border-stone-200";

            if (item.type === 'food') { IconSvg = Icons.Utensils; iconColor = "text-red-400"; borderColor="border-l-red-400"; }
            else if (item.type === 'shop') { IconSvg = Icons.ShoppingBag; iconColor = "text-yellow-500"; borderColor="border-l-yellow-500"; }
            else if (item.type === 'visit') { IconSvg = Icons.Camera; iconColor = "text-emerald-500"; borderColor="border-l-emerald-500"; }
            else if (item.type === 'hotel') { IconSvg = Icons.Hotel; iconColor = "text-purple-400"; borderColor="border-l-purple-400"; }
            else if (item.type === 'transport') {
                const isFlight = item.title.includes("CX564") || item.title.includes("CX565");
                const isCarRelated = item.title.includes("ç§Ÿè»Š") || item.title.includes("é‚„è»Š") || item.title.includes("é§è»Šå ´");
                if (isFlight) { IconSvg = Icons.Plane; iconColor = "text-red-500"; borderColor = "border-l-red-500"; } 
                else if (isCarRelated) { IconSvg = Icons.Car; iconColor = "text-lime-600"; borderColor = "border-l-lime-600"; } 
                else { IconSvg = Icons.Train; iconColor = "text-indigo-400"; borderColor = "border-l-indigo-400"; }
            }

            const isCollection = item.tag === "æ”¶é›†";
            if (isCollection) { IconSvg = Icons.Star; iconColor = "text-amber-500"; borderColor = "border-l-amber-500"; }

            const titlesWithoutNavigation = ["æ­ä¹˜ CX564 é£›å¾€å¤§é˜ª", "æ­ä¹˜ CX565 è¿”å°", "å‰å¾€è‰æ´¥", "å‰å¾€å¤§é˜ª"];
            const showNavigation = !titlesWithoutNavigation.includes(item.title);
            const destinationUrl = item.mapUrl || getGoogleMapUrl(item.title);

            return `
                <div class="flex gap-4 p-4 bg-white/95 backdrop-blur-sm rounded-lg border-l-4 shadow-sm mb-3 ${borderColor} active:bg-stone-50 transition-colors">
                    <div class="flex flex-col items-center min-w-[50px]">
                        <span class="text-sm font-bold text-stone-600 font-mono">${item.time}</span>
                        <div class="mt-2 p-1.5 rounded-full bg-stone-50 ${iconColor}">
                            ${IconSvg}
                        </div>
                        ${isCollection ? '<span class="text-[9px] text-amber-600 font-bold mt-1">GET!</span>' : ''}
                    </div>
                    
                    <div class="flex-1">
                        <div class="flex items-start justify-between">
                            <h3 class="font-bold text-stone-800 text-lg leading-tight w-[calc(100%-70px)] sm:w-[calc(100%-110px)] select-text">${item.title}</h3>
                            <div class="flex gap-2 shrink-0"> 
                                ${item.parkingUrl ? `
                                    <a href="${item.parkingUrl}" target="_blank" rel="noopener noreferrer" class="p-2 bg-sky-50 text-sky-600 rounded-full active-scale hover:bg-sky-100 transition-colors shrink-0">
                                        ${Icons.MapPin}
                                    </a>` : ''}
                                ${showNavigation ? `
                                    <a href="${destinationUrl}" target="_blank" rel="noopener noreferrer" class="p-2 bg-blue-50 text-blue-600 rounded-full active-scale hover:bg-blue-100 transition-colors shrink-0">
                                        ${Icons.Navigation}
                                    </a>` : '<div class="w-8 h-8 shrink-0"></div>'}
                            </div>
                        </div>
                        ${item.tag ? `<div class="mt-1"><span class="text-[10px] px-2 py-0.5 rounded-full border font-medium mr-2 ${isCollection ? "border-amber-400 text-amber-600 bg-amber-50" : "border-stone-300 text-stone-500"}">${item.tag}</span></div>` : ''}
                        ${item.highlight ? `<div class="mt-2 inline-block px-3 py-1 bg-red-50 text-red-600 text-xs rounded-md font-bold select-text">â˜… ${item.highlight}</div>` : ''}
                        ${item.note ? `<p class="mt-2 text-sm text-stone-500 leading-relaxed bg-stone-50 p-2 rounded border border-stone-100 select-text">${item.note}</p>` : ''}
                    </div>
                </div>
            `;
        }

        // --- Render Functions ---
        function renderHeader() {
            const currentDayData = TRIP_DATA.itinerary.find(d => d.id === state.selectedDayId);
            
            let weatherWidget = '';
            if (state.activeTab === 'itinerary' && currentDayData) {
                weatherWidget = `
                    <div class="flex items-center gap-2 bg-white/50 px-3 py-1.5 rounded-full border border-stone-100">
                        ${getWeatherIcon(currentDayData.weather)}
                        <span class="text-sm font-bold text-stone-600">${currentDayData.temp}</span>
                        <span class="text-xs text-stone-400 pl-1 border-l border-stone-300 ml-1">${currentDayData.location}</span>
                    </div>
                `;
            }

            let daysBar = '';
            if (state.activeTab === 'itinerary') {
                const buttons = TRIP_DATA.itinerary.map(day => {
                    const isSelected = state.selectedDayId === day.id;
                    const styleClass = isSelected 
                        ? "bg-indigo-600/90 backdrop-blur border-indigo-600 text-white shadow-lg shadow-indigo-200" 
                        : "bg-white/60 backdrop-blur border-stone-200 text-stone-400";
                    return `
                        <button onclick="setDay('${day.id}')" id="btn-${day.id}" class="flex-shrink-0 snap-center flex flex-col items-center justify-center w-14 h-16 rounded-xl border transition-all duration-300 active:scale-95 ${styleClass}">
                            <span class="text-[10px] font-medium uppercase leading-none mb-1">${day.date}</span>
                            <span class="text-lg font-black leading-none">${day.dayOfWeek}</span>
                        </button>
                    `;
                }).join('');
                
                daysBar = `
                    <div id="days-scroll" class="flex overflow-x-auto gap-3 px-4 pb-3 no-scrollbar snap-x">
                        ${buttons}
                    </div>
                `;
            }

            return `
                <div class="shrink-0 bg-white/80 backdrop-blur-md border-b border-stone-200/50 shadow-sm z-50">
                    <div class="px-4 py-3 flex justify-between items-center">
                        <div>
                            <h1 class="text-xl font-black tracking-tighter text-indigo-900">KANSAI TRIP</h1>
                            <p class="text-xs text-stone-400 font-medium tracking-widest">DEC 27 - JAN 04</p>
                        </div>
                        ${weatherWidget}
                    </div>
                    ${daysBar}
                </div>
            `;
        }

        function renderContent() {
            let content = '';

            if (state.activeTab === 'itinerary') {
                const currentDayData = TRIP_DATA.itinerary.find(d => d.id === state.selectedDayId);
                const itemsHtml = currentDayData.items.map(item => renderItineraryItem(item)).join('');
                content = `
                    <div class="animate-fade-in">
                        <div class="flex items-center justify-between mb-4 px-1">
                            <h2 class="text-lg font-bold text-stone-700">Day ${state.selectedDayId.replace('day', '')} <span class="ml-2 text-sm font-normal text-stone-500">${currentDayData.location}</span></h2>
                        </div>
                        ${itemsHtml}
                    </div>
                `;
            } 
            else if (state.activeTab === 'flights') {
                const flightsHtml = TRIP_DATA.flights.map(flight => `
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-5 mb-4">
                        <div class="flex items-center justify-between mb-4 border-b border-stone-100 pb-3">
                            <span class="text-xs font-bold px-2 py-1 rounded ${flight.type === 'Departure' ? 'bg-indigo-100 text-indigo-700' : 'bg-orange-100 text-orange-700'}">${flight.type === 'Departure' ? 'å»ç¨‹' : 'å›ç¨‹'}</span>
                            <span class="font-mono font-bold text-stone-500">${flight.date}</span>
                        </div>
                        <div class="flex justify-between items-center mb-2">
                            <div class="text-3xl font-black text-stone-800">${flight.code}</div>
                            <div class="text-stone-300 rotate-45" style="width:18px">${Icons.Plane}</div>
                        </div>
                        <div class="text-sm font-medium text-stone-600 mb-4">${flight.airline} â€¢ ${flight.class}</div>
                        <div class="bg-stone-50 p-4 rounded-lg text-center border border-stone-100">
                            <div class="text-lg font-bold text-stone-800 mb-1">${flight.route}</div>
                            <div class="text-xs text-stone-500">${flight.terminal} â€¢ ${flight.duration} â€¢ ${flight.aircraft}</div>
                        </div>
                    </div>
                `).join('');
                content = `<div class="space-y-4 animate-fade-in"><h2 class="text-xl font-bold text-stone-800 px-1">èˆªç­è³‡è¨Š</h2>${flightsHtml}</div>`;
            }
            else if (state.activeTab === 'hotels') {
                 const hotelsHtml = TRIP_DATA.hotels.map(hotel => `
                    <div class="bg-white/95 backdrop-blur-sm rounded-xl shadow-sm border border-stone-200 overflow-hidden p-0 mb-4">
                        <div class="h-60 bg-stone-200 relative">
                             <div class="w-full h-full bg-gradient-to-r from-stone-200 to-stone-300 flex items-center justify-center text-white opacity-50">${Icons.Hotel}</div>
                        </div>
                        <div class="p-5">
                            <div class="flex justify-between items-start mb-2"><h3 class="text-lg font-bold text-stone-800 leading-tight w-3/4">${hotel.name}</h3><span class="text-xs bg-stone-100 text-stone-600 px-2 py-1 rounded font-medium whitespace-nowrap">${hotel.dates}</span></div>
                            <p class="text-xs text-stone-400 mb-4 font-mono">${hotel.engName}</p>
                            <div class="flex items-start gap-2 mb-4 text-sm text-stone-600"><span class="mt-0.5 text-stone-400 shrink-0" style="width:16px">${Icons.MapPin}</span><span>${hotel.location}</span></div>
                            <div class="flex flex-wrap gap-2 mb-4">${hotel.features.map(f => `<span class="text-[10px] px-2 py-1 bg-indigo-50 text-indigo-600 rounded">${f}</span>`).join('')}</div>
                            <div class="bg-amber-50 p-3 rounded text-xs text-amber-800 border border-amber-100 flex gap-2"><span>â“˜</span>${hotel.note}</div>
                        </div>
                    </div>
                 `).join('');
                 content = `<div class="space-y-4 animate-fade-in"><h2 class="text-xl font-bold text-stone-800 px-1">ä½å®¿è³‡è¨Š</h2>${hotelsHtml}</div>`;
            }
            // ... (å…¶ä»– Tabs ç°¡åŒ–è™•ç†)
            else {
                content = `<div class="p-10 text-center text-stone-500">æ­¤é é¢å…§å®¹è«‹åƒç…§åŸå§‹è³‡æ–™è‡ªè¡Œæ“´å……...</div>`;
            }

            return `
                <div id="main-content" class="flex-1 overflow-y-auto overflow-x-hidden p-4 space-y-4 no-scrollbar overscroll-contain pb-24 relative z-10">
                    ${content}
                    <div class="text-center pt-8 pb-4 opacity-80">
                        <div class="border-t border-stone-400/30 pt-2 px-4 inline-flex items-baseline gap-2">
                            <span class="text-sm text-stone-500 font-medium tracking-wider">Created by</span>
                            <span class="text-4xl text-stone-600" style="font-family: 'Dancing Script', cursive">Wen</span>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderBottomNav() {
            const tabs = [
                { id: 'itinerary', icon: Icons.Calendar, label: 'è¡Œç¨‹' },
                { id: 'flights', icon: Icons.Plane, label: 'èˆªç­' },
                { id: 'hotels', icon: Icons.Hotel, label: 'é£¯åº—' },
                { id: 'manhole', icon: Icons.CreditCard, label: 'åº«å­˜' },
                { id: 'map', icon: Icons.MapIcon, label: 'åœ°åœ–' },
            ];

            const buttons = tabs.map(tab => {
                const isActive = state.activeTab === tab.id;
                const color = isActive ? (tab.id === 'map' ? 'text-emerald-600' : 'text-indigo-600') : 'text-stone-400';
                return `
                    <button onclick="setTab('${tab.id}')" class="flex flex-col items-center justify-center flex-1 h-full space-y-1 active:bg-stone-50 ${color}">
                        <div class="${isActive ? '' : 'opacity-80'}" style="width:24px;height:24px">${tab.icon}</div>
                        <span class="text-[10px] font-medium">${tab.label}</span>
                    </button>
                `;
            }).join('');

            return `
                <div class="shrink-0 bg-white/90 backdrop-blur-md border-t border-stone-200/50 pb-safe z-50">
                    <div class="flex justify-around items-center h-16">
                        ${buttons}
                    </div>
                </div>
            `;
        }

        function renderApp() {
            const root = document.getElementById('root');
            root.innerHTML = `
                <div class="h-[100dvh] flex flex-col font-sans text-stone-900 md:max-w-md md:mx-auto shadow-2xl overflow-hidden relative select-none">
                    <div class="fixed inset-0 z-0 pointer-events-none md:max-w-md md:mx-auto">
                        <img src="https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=2070&auto=format&fit=crop" class="w-full h-full object-cover opacity-90" />
                        <div class="absolute inset-0 bg-stone-100/85 backdrop-blur-[2px]"></div>
                    </div>
                    ${renderHeader()}
                    ${renderContent()}
                    ${renderBottomNav()}
                </div>
            `;

            // Scroll Logic
            if (state.activeTab === 'itinerary') {
                const btn = document.getElementById(`btn-${state.selectedDayId}`);
                if (btn) btn.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
            }
        }

        // --- Actions ---
        window.setTab = (tabId) => {
            state.activeTab = tabId;
            renderApp();
        };

        window.setDay = (dayId) => {
            state.selectedDayId = dayId;
            renderApp();
        };

        // Init
        renderApp();
    </script>
</body>
</html>
